/*
  This program and the accompanying materials are
  made available under the terms of the Eclipse Public License v2.0 which accompanies
  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html
  
  SPDX-License-Identifier: EPL-2.0
  
  Copyright Contributors to the Zowe Project.
*/
import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import { throwError } from 'rxjs';
import { defaultSnackbarOptions } from '../../shared/snackbar-options';
import { finalize } from "rxjs/operators";
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/common/http";
import * as i3 from "@angular/material/snack-bar";
import * as i4 from "@angular/forms";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/material/icon";
import * as i7 from "@angular/material/input";
import * as i8 from "@angular/material/list";
import * as i9 from "@angular/material/button";
import * as i10 from "zlux-widgets";
import * as i11 from "@angular/material/slide-toggle";
export class FileOwnershipModal {
    constructor(data, dialogRef, http, snackBar) {
        this.dialogRef = dialogRef;
        this.http = http;
        this.snackBar = snackBar;
        this.name = '';
        this.path = '';
        this.mode = 0;
        this.modeSym = '';
        this.icon = '';
        this.owner = '';
        this.group = '';
        this.isDirectory = false;
        this.recursive = false;
        this.node = null;
        this.folderName = '';
        this.folderPath = '';
        this.node = data.event;
        this.name = this.node.name;
        this.path = this.node.path;
        this.mode = this.node.mode;
        this.owner = this.node.owner;
        this.group = this.node.group;
        this.isDirectory = this.node.directory;
        if (this.node.icon) {
            this.icon = this.node.icon;
        }
        else if (this.node.collapsedIcon) {
            this.icon = this.node.collapsedIcon;
        }
        this.formatPermissions();
    }
    formatPermissions() {
        let modeString = String(this.mode);
        if (modeString.length == 2) { // In case the mode is not properly formatted as "000" instead of "0", "20" etc
            modeString = "0" + modeString;
        }
        else if (modeString.length == 1) {
            modeString = "00" + modeString;
        }
        let modeStringSym = "";
        for (let i = 0; i < 3; i++) {
            let value = modeString.charAt(i);
            switch (value) {
                case "0":
                    modeStringSym += "---";
                    break;
                case "1":
                    modeStringSym += "--x";
                    break;
                case "2":
                    modeStringSym += "-w-";
                    break;
                case "3":
                    modeStringSym += "-wx";
                    break;
                case "4":
                    modeStringSym += "r--";
                    break;
                case "5":
                    modeStringSym += "r-x";
                    break;
                case "6":
                    modeStringSym += "rw-";
                    break;
                case "7":
                    modeStringSym += "rwx";
                    break;
            }
        }
        this.modeSym = modeStringSym;
    }
    saveOwnerInfo() {
        let url = ZoweZLUX.uriBroker.unixFileUri('chown', this.path, undefined, undefined, undefined, false, undefined, undefined, undefined, undefined, this.recursive, this.owner, this.group);
        this.http.post(url, null, { observe: 'response' }).pipe(finalize(() => this.closeDialog())).subscribe((res) => {
            if (res.status == 200) {
                this.snackBar.open(this.path + ' has been successfully changed to Owner: ' + this.owner + " Group: " + this.group + ".", 'Dismiss', defaultSnackbarOptions);
                this.node.owner = this.owner;
                this.node.group = this.group;
            }
            else {
                this.snackBar.open(res.status + " - A problem was encountered: " + res.statusText, 'Dismiss', defaultSnackbarOptions);
            }
        }, err => {
            this.handleErrorObservable(err);
        });
    }
    closeDialog() {
        const needUpdate = this.isDirectory;
        this.dialogRef.close(needUpdate);
    }
    handleErrorObservable(error) {
        console.error(error.message || error);
        this.snackBar.open(error.status + " - A problem was encountered: " + error._body, 'Dismiss', defaultSnackbarOptions);
        return throwError(() => error.message || error);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FileOwnershipModal, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.MatDialogRef }, { token: i2.HttpClient }, { token: i3.MatSnackBar }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.0.7", type: FileOwnershipModal, selector: "file-ownership-modal", ngImport: i0, template: "\n<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<!-- FA Icon is determined by class name, so we hardcode the style here -->\n<i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n<button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n<h2 mat-dialog-title class=\"modal-mat-header\">{{name}} - Change Owners</h2>\n\n\n<!-- Possible future filter code -->\n<!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n<div class=\"modal-row\">\n  <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n    <mat-list-item>\n      <div class=\"selectable-text\">Mode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{mode}} ({{modeSym}})</div>\n    </mat-list-item>\n  </div>\n</div>\n\n<div class=\"modal-row\">\n  <div class=\"modal-column-ownership\">\n    <mat-list-item>\n      Owner:\n      <mat-form-field style=\"margin-left: 15px;\">\n        <input id=\"owner-input\" name=\"name\" matInput type=\"text\"\n          [ngModel]=\"owner\" (ngModelChange)=\"owner=$event.toUpperCase()\">\n          @if (folderName) {\n            <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"folderName=''\">\n              <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n            </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Group:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"group-input\" matInput type=\"text\"\n            [ngModel]=\"group\" (ngModelChange)=\"group=$event.toUpperCase()\">\n            @if (folderPath) {\n              <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"folderPath=''\">\n                <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n              </button>\n            }\n          </mat-form-field>\n        </mat-list-item>\n      </div>\n    </div>\n\n    @if (isDirectory) {\n      <div class=\"modal-row\">\n        <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n          <mat-list-item>\n            <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n          </mat-list-item>\n        </div>\n        <div class=\"modal-column\">\n          <mat-list-item>\n            <div class=\"selectable-text\">Recursive?</div>\n          </mat-list-item>\n        </div>\n      </div>\n    }\n\n    <mat-dialog-actions>\n      <button mat-button class=\"modal-mat-button\" (click)=\"saveOwnerInfo()\">Save</button>\n      <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n    </mat-dialog-actions>\n\n    <!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->\n", styles: [".modal-column-ownership{float:left;width:100%}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{padding:6px;width:85px;border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:33px;margin-bottom:15px;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}\n"], dependencies: [{ kind: "directive", type: i4.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i1.MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }, { kind: "directive", type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "directive", type: i1.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "component", type: i5.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i5.MatSuffix, selector: "[matSuffix], [matIconSuffix], [matTextSuffix]", inputs: ["matTextSuffix"] }, { kind: "component", type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i7.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i8.MatListItem, selector: "mat-list-item, a[mat-list-item], button[mat-list-item]", inputs: ["activated"], exportAs: ["matListItem"] }, { kind: "component", type: i9.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i9.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: i10.ZluxTabbingComponent, selector: "zlux-tab-trap", inputs: ["hiddenIds", "hiddenPos"] }, { kind: "component", type: i11.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "color", "disabled", "disableRipple", "tabIndex", "checked", "hideIcon"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FileOwnershipModal, decorators: [{
            type: Component,
            args: [{ selector: 'file-ownership-modal', template: "\n<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<!-- FA Icon is determined by class name, so we hardcode the style here -->\n<i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n<button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n<h2 mat-dialog-title class=\"modal-mat-header\">{{name}} - Change Owners</h2>\n\n\n<!-- Possible future filter code -->\n<!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n<div class=\"modal-row\">\n  <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n    <mat-list-item>\n      <div class=\"selectable-text\">Mode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{mode}} ({{modeSym}})</div>\n    </mat-list-item>\n  </div>\n</div>\n\n<div class=\"modal-row\">\n  <div class=\"modal-column-ownership\">\n    <mat-list-item>\n      Owner:\n      <mat-form-field style=\"margin-left: 15px;\">\n        <input id=\"owner-input\" name=\"name\" matInput type=\"text\"\n          [ngModel]=\"owner\" (ngModelChange)=\"owner=$event.toUpperCase()\">\n          @if (folderName) {\n            <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"folderName=''\">\n              <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n            </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Group:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"group-input\" matInput type=\"text\"\n            [ngModel]=\"group\" (ngModelChange)=\"group=$event.toUpperCase()\">\n            @if (folderPath) {\n              <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"folderPath=''\">\n                <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n              </button>\n            }\n          </mat-form-field>\n        </mat-list-item>\n      </div>\n    </div>\n\n    @if (isDirectory) {\n      <div class=\"modal-row\">\n        <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n          <mat-list-item>\n            <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n          </mat-list-item>\n        </div>\n        <div class=\"modal-column\">\n          <mat-list-item>\n            <div class=\"selectable-text\">Recursive?</div>\n          </mat-list-item>\n        </div>\n      </div>\n    }\n\n    <mat-dialog-actions>\n      <button mat-button class=\"modal-mat-button\" (click)=\"saveOwnerInfo()\">Save</button>\n      <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n    </mat-dialog-actions>\n\n    <!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->\n", styles: [".modal-column-ownership{float:left;width:100%}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{padding:6px;width:85px;border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:33px;margin-bottom:15px;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.MatDialogRef }, { type: i2.HttpClient }, { type: i3.MatSnackBar }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1vd25lcnNoaXAtbW9kYWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvemx1eC1maWxlLWV4cGxvcmVyL3NyYy9saWIvY29tcG9uZW50cy9maWxlLW93bmVyc2hpcC1tb2RhbC9maWxlLW93bmVyc2hpcC1tb2RhbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2ZpbGUtb3duZXJzaGlwLW1vZGFsL2ZpbGUtb3duZXJzaGlwLW1vZGFsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBOzs7Ozs7OztFQVFFO0FBQ0YsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFFLGVBQWUsRUFBZ0IsTUFBTSwwQkFBMEIsQ0FBQztBQUV6RSxPQUFPLEVBQWMsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRTlDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxRQUFRLEVBQW1CLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7QUFRM0QsTUFBTSxPQUFPLGtCQUFrQjtJQWU3QixZQUMyQixJQUFJLEVBQ3JCLFNBQTJDLEVBQzNDLElBQWdCLEVBQ2hCLFFBQXFCO1FBRnJCLGNBQVMsR0FBVCxTQUFTLENBQWtDO1FBQzNDLFNBQUksR0FBSixJQUFJLENBQVk7UUFDaEIsYUFBUSxHQUFSLFFBQVEsQ0FBYTtRQWpCeEIsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixTQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUNiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixVQUFLLEdB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Q0FBQyxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFHRCxXQUFXO1FBQ1QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRU8scUJBQXFCLENBQUMsS0FBcUI7UUFDakQsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsZ0NBQWdDLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFDOUUsU0FBUyxFQUFFLHNCQUFzQixDQUFDLENBQUM7UUFDckMsT0FBTyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsQ0FBQztJQUNsRCxDQUFDOzhHQWhIVSxrQkFBa0Isa0JBZ0JuQixlQUFlO2tHQWhCZCxrQkFBa0IsNERDeEIvQiw2L0dBNkZBOzsyRkRyRWEsa0JBQWtCO2tCQU45QixTQUFTOytCQUNFLHNCQUFzQjs7MEJBcUI3QixNQUFNOzJCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLypcclxuICBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZVxyXG4gIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2Mi4wIHdoaWNoIGFjY29tcGFuaWVzXHJcbiAgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYyMC5odG1sXHJcbiAgXHJcbiAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEVQTC0yLjBcclxuICBcclxuICBDb3B5cmlnaHQgQ29udHJpYnV0b3JzIHRvIHRoZSBab3dlIFByb2plY3QuXHJcbiovXHJcbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1BVF9ESUFMT0dfREFUQSwgTWF0RGlhbG9nUmVmIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcclxuaW1wb3J0IHsgTWF0U25hY2tCYXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9zbmFjay1iYXInO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IGRlZmF1bHRTbmFja2Jhck9wdGlvbnMgfSBmcm9tICcuLi8uLi9zaGFyZWQvc25hY2tiYXItb3B0aW9ucyc7XHJcbmltcG9ydCB7IGZpbmFsaXplLCBjYXRjaEVycm9yLCBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZmlsZS1vd25lcnNoaXAtbW9kYWwnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9maWxlLW93bmVyc2hpcC1tb2RhbC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZmlsZS1vd25lcnNoaXAtbW9kYWwuY29tcG9uZW50LnNjc3MnLFxyXG4gICAgJy4uLy4uL3NoYXJlZC9tb2RhbC5jb21wb25lbnQuc2NzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRmlsZU93bmVyc2hpcE1vZGFsIHtcclxuXHJcbiAgcHVibGljIG5hbWUgPSAnJztcclxuICBwdWJsaWMgcGF0aCA9ICcnO1xyXG4gIHB1YmxpYyBtb2RlID0gMDtcclxuICBwdWJsaWMgbW9kZVN5bSA9ICcnO1xyXG4gIHB1YmxpYyBpY29uID0gJyc7XHJcbiAgcHVibGljIG93bmVyID0gJyc7XHJcbiAgcHVibGljIGdyb3VwID0gJyc7XHJcbiAgcHVibGljIGlzRGlyZWN0b3J5ID0gZmFsc2U7XHJcbiAgcHVibGljIHJlY3Vyc2l2ZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyBub2RlID0gbnVsbDtcclxuICBwdWJsaWMgZm9sZGVyTmFtZSA9ICcnO1xyXG4gIHB1YmxpYyBmb2xkZXJQYXRoID0gJyc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIGRhdGEsXHJcbiAgICBwcml2YXRlIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPEZpbGVPd25lcnNoaXBNb2RhbD4sXHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQsXHJcbiAgICBwcml2YXRlIHNuYWNrQmFyOiBNYXRTbmFja0JhcixcclxuICApIHtcclxuICAgIHRoaXMubm9kZSA9IGRhdGEuZXZlbnQ7XHJcbiAgICB0aGlzLm5hbWUgPSB0aGlzLm5vZGUubmFtZTtcclxuICAgIHRoaXMucGF0aCA9IHRoaXMubm9kZS5wYXRoO1xyXG4gICAgdGhpcy5tb2RlID0gdGhpcy5ub2RlLm1vZGU7XHJcbiAgICB0aGlzLm93bmVyID0gdGhpcy5ub2RlLm93bmVyO1xyXG4gICAgdGhpcy5ncm91cCA9IHRoaXMubm9kZS5ncm91cDtcclxuICAgIHRoaXMuaXNEaXJlY3RvcnkgPSB0aGlzLm5vZGUuZGlyZWN0b3J5O1xyXG5cclxuICAgIGlmICh0aGlzLm5vZGUuaWNvbikge1xyXG4gICAgICB0aGlzLmljb24gPSB0aGlzLm5vZGUuaWNvbjtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLmNvbGxhcHNlZEljb24pIHtcclxuICAgICAgdGhpcy5pY29uID0gdGhpcy5ub2RlLmNvbGxhcHNlZEljb247XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mb3JtYXRQZXJtaXNzaW9ucygpO1xyXG4gIH1cclxuXHJcbiAgZm9ybWF0UGVybWlzc2lvbnMoKSB7XHJcbiAgICBsZXQgbW9kZVN0cmluZyA9IFN0cmluZyh0aGlzLm1vZGUpO1xyXG4gICAgaWYgKG1vZGVTdHJpbmcubGVuZ3RoID09IDIpIHsgLy8gSW4gY2FzZSB0aGUgbW9kZSBpcyBub3QgcHJvcGVybHkgZm9ybWF0dGVkIGFzIFwiMDAwXCIgaW5zdGVhZCBvZiBcIjBcIiwgXCIyMFwiIGV0Y1xyXG4gICAgICBtb2RlU3RyaW5nID0gXCIwXCIgKyBtb2RlU3RyaW5nO1xyXG4gICAgfSBlbHNlIGlmIChtb2RlU3RyaW5nLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIG1vZGVTdHJpbmcgPSBcIjAwXCIgKyBtb2RlU3RyaW5nO1xyXG4gICAgfVxyXG4gICAgbGV0IG1vZGVTdHJpbmdTeW0gPSBcIlwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgIGxldCB2YWx1ZSA9IG1vZGVTdHJpbmcuY2hhckF0KGkpO1xyXG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSBcIjBcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCItLS1cIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCIxXCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiLS14XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiMlwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIi13LVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjNcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCItd3hcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCI0XCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwici0tXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiNVwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcInIteFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjZcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCJydy1cIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCI3XCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwicnd4XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5tb2RlU3ltID0gbW9kZVN0cmluZ1N5bTtcclxuICB9XHJcblxyXG4gIHNhdmVPd25lckluZm8oKSB7XHJcbiAgICBsZXQgdXJsOiBzdHJpbmcgPSBab3dlWkxVWC51cmlCcm9rZXIudW5peEZpbGVVcmkoJ2Nob3duJywgdGhpcy5wYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLnJlY3Vyc2l2ZSwgdGhpcy5vd25lciwgdGhpcy5ncm91cCk7XHJcbiAgICB0aGlzLmh0dHAucG9zdCh1cmwsIG51bGwsIHsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KS5waXBlKFxyXG4gICAgICBmaW5hbGl6ZSgoKSA9PiB0aGlzLmNsb3NlRGlhbG9nKCkpLFxyXG4gICAgKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKHRoaXMucGF0aCArICcgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNoYW5nZWQgdG8gT3duZXI6ICcgKyB0aGlzLm93bmVyICsgXCIgR3JvdXA6IFwiICsgdGhpcy5ncm91cCArIFwiLlwiLFxyXG4gICAgICAgICAgICAnRGlzbWlzcycsIGRlZmF1bHRTbmFja2Jhck9wdGlvbnMpO1xyXG4gICAgICAgICAgdGhpcy5ub2RlLm93bmVyID0gdGhpcy5vd25lcjtcclxuICAgICAgICAgIHRoaXMubm9kZS5ncm91cCA9IHRoaXMuZ3JvdXA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc25hY2tCYXIub3BlbihyZXMuc3RhdHVzICsgXCIgLSBBIHByb2JsZW0gd2FzIGVuY291bnRlcmVkOiBcIiArIHJlcy5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAnRGlzbWlzcycsIGRlZmF1bHRTbmFja2Jhck9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZUVycm9yT2JzZXJ2YWJsZShlcnIpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcblxyXG4gIGNsb3NlRGlhbG9nKCkge1xyXG4gICAgY29uc3QgbmVlZFVwZGF0ZSA9IHRoaXMuaXNEaXJlY3Rvcnk7XHJcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZShuZWVkVXBkYXRlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRXJyb3JPYnNlcnZhYmxlKGVycm9yOiBSZXNwb25zZSB8IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcclxuICAgIHRoaXMuc25hY2tCYXIub3BlbihlcnJvci5zdGF0dXMgKyBcIiAtIEEgcHJvYmxlbSB3YXMgZW5jb3VudGVyZWQ6IFwiICsgZXJyb3IuX2JvZHksXHJcbiAgICAgICdEaXNtaXNzJywgZGVmYXVsdFNuYWNrYmFyT3B0aW9ucyk7XHJcbiAgICByZXR1cm4gdGhyb3dFcnJvcigoKSA9PiBlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcclxuICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xyXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxyXG4gIFxyXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXHJcbiAgXHJcbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxyXG4qL1xyXG4iLCJcbjwhLS1cblRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlXG5tYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xudGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYyMC5odG1sXG5cblNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXG5cbkNvcHlyaWdodCBDb250cmlidXRvcnMgdG8gdGhlIFpvd2UgUHJvamVjdC5cbi0tPlxuPHpsdXgtdGFiLXRyYXA+PC96bHV4LXRhYi10cmFwPlxuPCEtLSBGQSBJY29uIGlzIGRldGVybWluZWQgYnkgY2xhc3MgbmFtZSwgc28gd2UgaGFyZGNvZGUgdGhlIHN0eWxlIGhlcmUgLS0+XG48aSBjbGFzcz1cInt7aWNvbn19XCIgc3R5bGU9XCJmb250LXNpemU6MjRweDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tdG9wOiA0cHg7IG1hcmdpbi1sZWZ0OiAzcHg7XCI+PC9pPlxuPGJ1dHRvbiBtYXQtZGlhbG9nLWNsb3NlIGNsYXNzPVwiY2xvc2UtZGlhbG9nLWJ0blwiPjxpIGNsYXNzPVwiZmEgZmEtY2xvc2VcIj48L2k+PC9idXR0b24+XG48aDIgbWF0LWRpYWxvZy10aXRsZSBjbGFzcz1cIm1vZGFsLW1hdC1oZWFkZXJcIj57e25hbWV9fSAtIENoYW5nZSBPd25lcnM8L2gyPlxuXG5cbjwhLS0gUG9zc2libGUgZnV0dXJlIGZpbHRlciBjb2RlIC0tPlxuPCEtLSA8bWF0LWZvcm0tZmllbGQ+XG48aW5wdXQgbWF0SW5wdXQgKGtleXVwKT1cImFwcGx5RmlsdGVyKCRldmVudC50YXJnZXQudmFsdWUpXCIgcGxhY2Vob2xkZXI9XCJGaWx0ZXJcIj5cbjwvbWF0LWZvcm0tZmllbGQ+IC0tPlxuXG48ZGl2IGNsYXNzPVwibW9kYWwtcm93XCI+XG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1jb2x1bW4tb3duZXJzaGlwXCIgc3R5bGU9XCJ3aWR0aDogMzAlO1wiPlxuICAgIDxtYXQtbGlzdC1pdGVtPlxuICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGFibGUtdGV4dFwiPk1vZGU6Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7e3ttb2RlfX0gKHt7bW9kZVN5bX19KTwvZGl2PlxuICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPGRpdiBjbGFzcz1cIm1vZGFsLXJvd1wiPlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uLW93bmVyc2hpcFwiPlxuICAgIDxtYXQtbGlzdC1pdGVtPlxuICAgICAgT3duZXI6XG4gICAgICA8bWF0LWZvcm0tZmllbGQgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTVweDtcIj5cbiAgICAgICAgPGlucHV0IGlkPVwib3duZXItaW5wdXRcIiBuYW1lPVwibmFtZVwiIG1hdElucHV0IHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBbbmdNb2RlbF09XCJvd25lclwiIChuZ01vZGVsQ2hhbmdlKT1cIm93bmVyPSRldmVudC50b1VwcGVyQ2FzZSgpXCI+XG4gICAgICAgICAgQGlmIChmb2xkZXJOYW1lKSB7XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWwtY2xlYXItYnV0dG9uXCIgbWF0LWJ1dHRvbiBtYXRTdWZmaXggbWF0LWljb24tYnV0dG9uIGFyaWEtbGFiZWw9XCJDbGVhclwiIChjbGljayk9XCJmb2xkZXJOYW1lPScnXCI+XG4gICAgICAgICAgICAgIDxtYXQtaWNvbiBjbGFzcz1cImNyZWF0ZS1mb2xkZXItY2xlYXItaWNvblwiPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb2x1bW4tb3duZXJzaGlwXCI+XG4gICAgICA8bWF0LWxpc3QtaXRlbT5cbiAgICAgICAgR3JvdXA6XG4gICAgICAgIDxtYXQtZm9ybS1maWVsZCBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxNXB4O1wiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cImdyb3VwLWlucHV0XCIgbWF0SW5wdXQgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgW25nTW9kZWxdPVwiZ3JvdXBcIiAobmdNb2RlbENoYW5nZSk9XCJncm91cD0kZXZlbnQudG9VcHBlckNhc2UoKVwiPlxuICAgICAgICAgICAgQGlmIChmb2xkZXJQYXRoKSB7XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1jbGVhci1idXR0b25cIiBtYXQtYnV0dG9uIG1hdFN1ZmZpeCBtYXQtaWNvbi1idXR0b24gYXJpYS1sYWJlbD1cIkNsZWFyXCIgKGNsaWNrKT1cImZvbGRlclBhdGg9JydcIj5cbiAgICAgICAgICAgICAgICA8bWF0LWljb24gY2xhc3M9XCJjcmVhdGUtZm9sZGVyLWNsZWFyLWljb25cIj5jbG9zZTwvbWF0LWljb24+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgQGlmIChpc0RpcmVjdG9yeSkge1xuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uLW93bmVyc2hpcFwiIHN0eWxlPVwid2lkdGg6IDMwJTtcIj5cbiAgICAgICAgICA8bWF0LWxpc3QtaXRlbT5cbiAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzPVwic2VsZWN0YWJsZS10ZXh0XCIgWyhuZ01vZGVsKV09XCJyZWN1cnNpdmVcIj48L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICAgICAgPC9tYXQtbGlzdC1pdGVtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbHVtblwiPlxuICAgICAgICAgIDxtYXQtbGlzdC1pdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGFibGUtdGV4dFwiPlJlY3Vyc2l2ZT88L2Rpdj5cbiAgICAgICAgICA8L21hdC1saXN0LWl0ZW0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfVxuXG4gICAgPG1hdC1kaWFsb2ctYWN0aW9ucz5cbiAgICAgIDxidXR0b24gbWF0LWJ1dHRvbiBjbGFzcz1cIm1vZGFsLW1hdC1idXR0b25cIiAoY2xpY2spPVwic2F2ZU93bmVySW5mbygpXCI+U2F2ZTwvYnV0dG9uPlxuICAgICAgPCEtLSBUaGUgbWF0LWRpYWxvZy1jbG9zZSBkaXJlY3RpdmUgb3B0aW9uYWxseSBhY2NlcHRzIGEgdmFsdWUgYXMgYSByZXN1bHQgZm9yIHRoZSBkaWFsb2cuIC0tPlxuICAgIDwvbWF0LWRpYWxvZy1hY3Rpb25zPlxuXG4gICAgPCEtLVxuICAgIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlXG4gICAgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYyLjAgd2hpY2ggYWNjb21wYW5pZXNcbiAgICB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjIwLmh0bWxcblxuICAgIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXG5cbiAgICBDb3B5cmlnaHQgQ29udHJpYnV0b3JzIHRvIHRoZSBab3dlIFByb2plY3QuXG4gICAgLS0+XG4iXX0=