/*
  This program and the accompanying materials are
  made available under the terms of the Eclipse Public License v2.0 which accompanies
  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html
  
  SPDX-License-Identifier: EPL-2.0
  
  Copyright Contributors to the Zowe Project.
*/
import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import { throwError } from 'rxjs';
import { defaultSnackbarOptions } from '../../shared/snackbar-options';
import { finalize } from "rxjs/operators";
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/common/http";
import * as i3 from "@angular/material/snack-bar";
import * as i4 from "@angular/forms";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/material/icon";
import * as i7 from "@angular/material/input";
import * as i8 from "@angular/material/list";
import * as i9 from "@angular/material/button";
import * as i10 from "zlux-widgets";
import * as i11 from "@angular/material/slide-toggle";
export class FileOwnershipModal {
    constructor(data, dialogRef, http, snackBar) {
        this.dialogRef = dialogRef;
        this.http = http;
        this.snackBar = snackBar;
        this.name = '';
        this.path = '';
        this.mode = 0;
        this.modeSym = '';
        this.icon = '';
        this.owner = '';
        this.group = '';
        this.isDirectory = false;
        this.recursive = false;
        this.node = null;
        this.folderName = '';
        this.folderPath = '';
        this.node = data.event;
        this.name = this.node.name;
        this.path = this.node.path;
        this.mode = this.node.mode;
        this.owner = this.node.owner;
        this.group = this.node.group;
        this.isDirectory = this.node.directory;
        if (this.node.icon) {
            this.icon = this.node.icon;
        }
        else if (this.node.collapsedIcon) {
            this.icon = this.node.collapsedIcon;
        }
        this.formatPermissions();
    }
    formatPermissions() {
        let modeString = String(this.mode);
        if (modeString.length == 2) { // In case the mode is not properly formatted as "000" instead of "0", "20" etc
            modeString = "0" + modeString;
        }
        else if (modeString.length == 1) {
            modeString = "00" + modeString;
        }
        let modeStringSym = "";
        for (let i = 0; i < 3; i++) {
            let value = modeString.charAt(i);
            switch (value) {
                case "0":
                    modeStringSym += "---";
                    break;
                case "1":
                    modeStringSym += "--x";
                    break;
                case "2":
                    modeStringSym += "-w-";
                    break;
                case "3":
                    modeStringSym += "-wx";
                    break;
                case "4":
                    modeStringSym += "r--";
                    break;
                case "5":
                    modeStringSym += "r-x";
                    break;
                case "6":
                    modeStringSym += "rw-";
                    break;
                case "7":
                    modeStringSym += "rwx";
                    break;
            }
        }
        this.modeSym = modeStringSym;
    }
    saveOwnerInfo() {
        let url = ZoweZLUX.uriBroker.unixFileUri('chown', this.path, undefined, undefined, undefined, false, undefined, undefined, undefined, undefined, this.recursive, this.owner, this.group);
        this.http.post(url, null, { observe: 'response' }).pipe(finalize(() => this.closeDialog())).subscribe({
            next: (res) => {
                if (res.status == 200) {
                    this.snackBar.open(this.path + ' has been successfully changed to Owner: ' + this.owner + " Group: " + this.group + ".", 'Dismiss', defaultSnackbarOptions);
                    this.node.owner = this.owner;
                    this.node.group = this.group;
                }
                else {
                    this.snackBar.open(res.status + " - A problem was encountered: " + res.statusText, 'Dismiss', defaultSnackbarOptions);
                }
            },
            error: (err) => {
                this.handleErrorObservable(err);
            }
        });
    }
    closeDialog() {
        const needUpdate = this.isDirectory;
        this.dialogRef.close(needUpdate);
    }
    handleErrorObservable(error) {
        console.error(error.message || error);
        this.snackBar.open(error.status + " - A problem was encountered: " + error._body, 'Dismiss', defaultSnackbarOptions);
        return throwError(() => error.message || error);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FileOwnershipModal, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.MatDialogRef }, { token: i2.HttpClient }, { token: i3.MatSnackBar }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.0.7", type: FileOwnershipModal, selector: "file-ownership-modal", ngImport: i0, template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<div class=\"padding-1\">\n  <div class=\"d-flex\">\n    <div class=\"modal-icon-container\">\n      <!-- FA Icon is determined by class name, so we hardcode the style here -->\n      <i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n    </div>\n    <div>\n      <h2 mat-dialog-title class=\"modal-mat-header\">{{name}} - Change Owners</h2>\n    </div>\n    <div>\n      <button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n    </div>\n  </div>\n\n  <!-- Possible future filter code -->\n  <!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n      <mat-list-item>\n        <div class=\"selectable-text\">Mode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{mode}} ({{modeSym}})</div>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Owner:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"owner-input\" name=\"name\" matInput type=\"text\" [ngModel]=\"owner\"\n            (ngModelChange)=\"owner=$event.toUpperCase()\">\n          @if (folderName) {\n          <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"folderName=''\">\n            <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n          </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Group:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"group-input\" matInput type=\"text\" [ngModel]=\"group\" (ngModelChange)=\"group=$event.toUpperCase()\">\n          @if (folderPath) {\n          <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"folderPath=''\">\n            <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n          </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  @if (isDirectory) {\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n      <mat-list-item>\n        <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n      </mat-list-item>\n    </div>\n    <div class=\"modal-column\">\n      <mat-list-item>\n        <div class=\"selectable-text\">Recursive?</div>\n      </mat-list-item>\n    </div>\n  </div>\n  }\n\n  <mat-dialog-actions>\n    <button mat-button class=\"modal-mat-button\" (click)=\"saveOwnerInfo()\">Save</button>\n    <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n  </mat-dialog-actions>\n</div>\n<!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->", styles: [".modal-column-ownership{float:left;width:100%}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none;padding:1rem}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:1rem;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}.padding-1{padding:1rem}.d-flex{display:flex}.flex-align-items-start{align-items:flex-start}.modal-icon-container{display:flex;flex-direction:column;justify-content:center}.mat-mdc-button:not(:disabled){color:none}.mat-mdc-form-field-focus-overlay,.mdc-text-field--focused{background-color:#fff!important}\n"], dependencies: [{ kind: "directive", type: i4.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i1.MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }, { kind: "directive", type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "directive", type: i1.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "component", type: i5.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i5.MatSuffix, selector: "[matSuffix], [matIconSuffix], [matTextSuffix]", inputs: ["matTextSuffix"] }, { kind: "component", type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i7.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i8.MatListItem, selector: "mat-list-item, a[mat-list-item], button[mat-list-item]", inputs: ["activated"], exportAs: ["matListItem"] }, { kind: "component", type: i9.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i9.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: i10.ZluxTabbingComponent, selector: "zlux-tab-trap", inputs: ["hiddenIds", "hiddenPos"] }, { kind: "component", type: i11.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "color", "disabled", "disableRipple", "tabIndex", "checked", "hideIcon"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FileOwnershipModal, decorators: [{
            type: Component,
            args: [{ selector: 'file-ownership-modal', template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<div class=\"padding-1\">\n  <div class=\"d-flex\">\n    <div class=\"modal-icon-container\">\n      <!-- FA Icon is determined by class name, so we hardcode the style here -->\n      <i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n    </div>\n    <div>\n      <h2 mat-dialog-title class=\"modal-mat-header\">{{name}} - Change Owners</h2>\n    </div>\n    <div>\n      <button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n    </div>\n  </div>\n\n  <!-- Possible future filter code -->\n  <!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n      <mat-list-item>\n        <div class=\"selectable-text\">Mode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{mode}} ({{modeSym}})</div>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Owner:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"owner-input\" name=\"name\" matInput type=\"text\" [ngModel]=\"owner\"\n            (ngModelChange)=\"owner=$event.toUpperCase()\">\n          @if (folderName) {\n          <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"folderName=''\">\n            <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n          </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\">\n      <mat-list-item>\n        Group:\n        <mat-form-field style=\"margin-left: 15px;\">\n          <input id=\"group-input\" matInput type=\"text\" [ngModel]=\"group\" (ngModelChange)=\"group=$event.toUpperCase()\">\n          @if (folderPath) {\n          <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"folderPath=''\">\n            <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n          </button>\n          }\n        </mat-form-field>\n      </mat-list-item>\n    </div>\n  </div>\n\n  @if (isDirectory) {\n  <div class=\"modal-row\">\n    <div class=\"modal-column-ownership\" style=\"width: 30%;\">\n      <mat-list-item>\n        <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n      </mat-list-item>\n    </div>\n    <div class=\"modal-column\">\n      <mat-list-item>\n        <div class=\"selectable-text\">Recursive?</div>\n      </mat-list-item>\n    </div>\n  </div>\n  }\n\n  <mat-dialog-actions>\n    <button mat-button class=\"modal-mat-button\" (click)=\"saveOwnerInfo()\">Save</button>\n    <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n  </mat-dialog-actions>\n</div>\n<!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->", styles: [".modal-column-ownership{float:left;width:100%}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none;padding:1rem}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:1rem;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}.padding-1{padding:1rem}.d-flex{display:flex}.flex-align-items-start{align-items:flex-start}.modal-icon-container{display:flex;flex-direction:column;justify-content:center}.mat-mdc-button:not(:disabled){color:none}.mat-mdc-form-field-focus-overlay,.mdc-text-field--focused{background-color:#fff!important}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.MatDialogRef }, { type: i2.HttpClient }, { type: i3.MatSnackBar }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1vd25lcnNoaXAtbW9kYWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvemx1eC1maWxlLWV4cGxvcmVyL3NyYy9saWIvY29tcG9uZW50cy9maWxlLW93bmVyc2hpcC1tb2RhbC9maWxlLW93bmVyc2hpcC1tb2RhbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2ZpbGUtb3duZXJzaGlwLW1vZGFsL2ZpbGUtb3duZXJzaGlwLW1vZGFsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBOzs7Ozs7OztFQVFFO0FBQ0YsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFFLGVBQWUsRUFBZ0IsTUFBTSwwQkFBMEIsQ0FBQztBQUV6RSxPQUFPLEVBQWMsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRTlDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxRQUFRLEVBQW1CLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7QUFRM0QsTUFBTSxPQUFPLGtCQUFrQjtJQWU3QixZQUMyQixJQUFJLEVBQ3JCLFNBQTJDLEVBQzNDLElBQWdCLEVBQ2hCLFFBQXFCO1FBRnJCLGNBQVMsR0FBVCxTQUFTLENBQWtDO1FBQzNDLFNBQUksR0FBSixJQUFJLENBQVk7UUFDaEIsYUFBUSxHQUFSLFFBQVEsQ0FBYTtRQWpCeEIsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixTQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUNiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixVQUFLLEdB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QUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ2IsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0lBR0QsV0FBVztRQUNULE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVPLHFCQUFxQixDQUFDLEtBQXFCO1FBQ2pELE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLGdDQUFnQyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQzlFLFNBQVMsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLENBQUM7SUFDbEQsQ0FBQzs4R0FoSFUsa0JBQWtCLGtCQWdCbkIsZUFBZTtrR0FoQmQsa0JBQWtCLDREQ3hCL0IsdW9IQW9HTzs7MkZENUVNLGtCQUFrQjtrQkFOOUIsU0FBUzsrQkFDRSxzQkFBc0I7OzBCQXFCN0IsTUFBTTsyQkFBQyxlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qXHJcbiAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcclxuICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xyXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxyXG4gIFxyXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXHJcbiAgXHJcbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxyXG4qL1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IE1hdFNuYWNrQmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc25hY2stYmFyJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xyXG5pbXBvcnQgeyBkZWZhdWx0U25hY2tiYXJPcHRpb25zIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3NuYWNrYmFyLW9wdGlvbnMnO1xyXG5pbXBvcnQgeyBmaW5hbGl6ZSwgY2F0Y2hFcnJvciwgbWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2ZpbGUtb3duZXJzaGlwLW1vZGFsJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZmlsZS1vd25lcnNoaXAtbW9kYWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2ZpbGUtb3duZXJzaGlwLW1vZGFsLmNvbXBvbmVudC5zY3NzJyxcclxuICAgICcuLi8uLi9zaGFyZWQvbW9kYWwuY29tcG9uZW50LnNjc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEZpbGVPd25lcnNoaXBNb2RhbCB7XHJcblxyXG4gIHB1YmxpYyBuYW1lID0gJyc7XHJcbiAgcHVibGljIHBhdGggPSAnJztcclxuICBwdWJsaWMgbW9kZSA9IDA7XHJcbiAgcHVibGljIG1vZGVTeW0gPSAnJztcclxuICBwdWJsaWMgaWNvbiA9ICcnO1xyXG4gIHB1YmxpYyBvd25lciA9ICcnO1xyXG4gIHB1YmxpYyBncm91cCA9ICcnO1xyXG4gIHB1YmxpYyBpc0RpcmVjdG9yeSA9IGZhbHNlO1xyXG4gIHB1YmxpYyByZWN1cnNpdmUgPSBmYWxzZTtcclxuICBwdWJsaWMgbm9kZSA9IG51bGw7XHJcbiAgcHVibGljIGZvbGRlck5hbWUgPSAnJztcclxuICBwdWJsaWMgZm9sZGVyUGF0aCA9ICcnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBkYXRhLFxyXG4gICAgcHJpdmF0ZSBkaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxGaWxlT3duZXJzaGlwTW9kYWw+LFxyXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxyXG4gICAgcHJpdmF0ZSBzbmFja0JhcjogTWF0U25hY2tCYXIsXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5vZGUgPSBkYXRhLmV2ZW50O1xyXG4gICAgdGhpcy5uYW1lID0gdGhpcy5ub2RlLm5hbWU7XHJcbiAgICB0aGlzLnBhdGggPSB0aGlzLm5vZGUucGF0aDtcclxuICAgIHRoaXMubW9kZSA9IHRoaXMubm9kZS5tb2RlO1xyXG4gICAgdGhpcy5vd25lciA9IHRoaXMubm9kZS5vd25lcjtcclxuICAgIHRoaXMuZ3JvdXAgPSB0aGlzLm5vZGUuZ3JvdXA7XHJcbiAgICB0aGlzLmlzRGlyZWN0b3J5ID0gdGhpcy5ub2RlLmRpcmVjdG9yeTtcclxuXHJcbiAgICBpZiAodGhpcy5ub2RlLmljb24pIHtcclxuICAgICAgdGhpcy5pY29uID0gdGhpcy5ub2RlLmljb247XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubm9kZS5jb2xsYXBzZWRJY29uKSB7XHJcbiAgICAgIHRoaXMuaWNvbiA9IHRoaXMubm9kZS5jb2xsYXBzZWRJY29uO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZm9ybWF0UGVybWlzc2lvbnMoKTtcclxuICB9XHJcblxyXG4gIGZvcm1hdFBlcm1pc3Npb25zKCkge1xyXG4gICAgbGV0IG1vZGVTdHJpbmcgPSBTdHJpbmcodGhpcy5tb2RlKTtcclxuICAgIGlmIChtb2RlU3RyaW5nLmxlbmd0aCA9PSAyKSB7IC8vIEluIGNhc2UgdGhlIG1vZGUgaXMgbm90IHByb3Blcmx5IGZvcm1hdHRlZCBhcyBcIjAwMFwiIGluc3RlYWQgb2YgXCIwXCIsIFwiMjBcIiBldGNcclxuICAgICAgbW9kZVN0cmluZyA9IFwiMFwiICsgbW9kZVN0cmluZztcclxuICAgIH0gZWxzZSBpZiAobW9kZVN0cmluZy5sZW5ndGggPT0gMSkge1xyXG4gICAgICBtb2RlU3RyaW5nID0gXCIwMFwiICsgbW9kZVN0cmluZztcclxuICAgIH1cclxuICAgIGxldCBtb2RlU3RyaW5nU3ltID0gXCJcIjtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICBsZXQgdmFsdWUgPSBtb2RlU3RyaW5nLmNoYXJBdChpKTtcclxuICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgXCIwXCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiLS0tXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIi0teFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCItdy1cIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiLXd4XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiNFwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcInItLVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCJyLXhcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwicnctXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiN1wiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcInJ3eFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMubW9kZVN5bSA9IG1vZGVTdHJpbmdTeW07XHJcbiAgfVxyXG5cclxuICBzYXZlT3duZXJJbmZvKCkge1xyXG4gICAgbGV0IHVybDogc3RyaW5nID0gWm93ZVpMVVgudXJpQnJva2VyLnVuaXhGaWxlVXJpKCdjaG93bicsIHRoaXMucGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcy5yZWN1cnNpdmUsIHRoaXMub3duZXIsIHRoaXMuZ3JvdXApO1xyXG4gICAgdGhpcy5odHRwLnBvc3QodXJsLCBudWxsLCB7IG9ic2VydmU6ICdyZXNwb25zZScgfSkucGlwZShcclxuICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5jbG9zZURpYWxvZygpKSxcclxuICAgICkuc3Vic2NyaWJlKHtcclxuICAgICAgbmV4dDogKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICB0aGlzLnNuYWNrQmFyLm9wZW4odGhpcy5wYXRoICsgJyBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgY2hhbmdlZCB0byBPd25lcjogJyArIHRoaXMub3duZXIgKyBcIiBHcm91cDogXCIgKyB0aGlzLmdyb3VwICsgXCIuXCIsXHJcbiAgICAgICAgICAgICdEaXNtaXNzJywgZGVmYXVsdFNuYWNrYmFyT3B0aW9ucyk7XHJcbiAgICAgICAgICB0aGlzLm5vZGUub3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgICAgdGhpcy5ub2RlLmdyb3VwID0gdGhpcy5ncm91cDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKHJlcy5zdGF0dXMgKyBcIiAtIEEgcHJvYmxlbSB3YXMgZW5jb3VudGVyZWQ6IFwiICsgcmVzLnN0YXR1c1RleHQsXHJcbiAgICAgICAgICAgICdEaXNtaXNzJywgZGVmYXVsdFNuYWNrYmFyT3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBlcnJvcjogKGVycikgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3JPYnNlcnZhYmxlKGVycik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGNsb3NlRGlhbG9nKCkge1xyXG4gICAgY29uc3QgbmVlZFVwZGF0ZSA9IHRoaXMuaXNEaXJlY3Rvcnk7XHJcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZShuZWVkVXBkYXRlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRXJyb3JPYnNlcnZhYmxlKGVycm9yOiBSZXNwb25zZSB8IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcclxuICAgIHRoaXMuc25hY2tCYXIub3BlbihlcnJvci5zdGF0dXMgKyBcIiAtIEEgcHJvYmxlbSB3YXMgZW5jb3VudGVyZWQ6IFwiICsgZXJyb3IuX2JvZHksXHJcbiAgICAgICdEaXNtaXNzJywgZGVmYXVsdFNuYWNrYmFyT3B0aW9ucyk7XHJcbiAgICByZXR1cm4gdGhyb3dFcnJvcigoKSA9PiBlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcclxuICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xyXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxyXG4gIFxyXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXHJcbiAgXHJcbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxyXG4qL1xyXG4iLCI8IS0tXG5UaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZVxubWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYyLjAgd2hpY2ggYWNjb21wYW5pZXNcbnRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxuXG5TUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogRVBMLTIuMFxuXG5Db3B5cmlnaHQgQ29udHJpYnV0b3JzIHRvIHRoZSBab3dlIFByb2plY3QuXG4tLT5cbjx6bHV4LXRhYi10cmFwPjwvemx1eC10YWItdHJhcD5cbjxkaXYgY2xhc3M9XCJwYWRkaW5nLTFcIj5cbiAgPGRpdiBjbGFzcz1cImQtZmxleFwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1pY29uLWNvbnRhaW5lclwiPlxuICAgICAgPCEtLSBGQSBJY29uIGlzIGRldGVybWluZWQgYnkgY2xhc3MgbmFtZSwgc28gd2UgaGFyZGNvZGUgdGhlIHN0eWxlIGhlcmUgLS0+XG4gICAgICA8aSBjbGFzcz1cInt7aWNvbn19XCIgc3R5bGU9XCJmb250LXNpemU6MjRweDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tdG9wOiA0cHg7IG1hcmdpbi1sZWZ0OiAzcHg7XCI+PC9pPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICA8aDIgbWF0LWRpYWxvZy10aXRsZSBjbGFzcz1cIm1vZGFsLW1hdC1oZWFkZXJcIj57e25hbWV9fSAtIENoYW5nZSBPd25lcnM8L2gyPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICA8YnV0dG9uIG1hdC1kaWFsb2ctY2xvc2UgY2xhc3M9XCJjbG9zZS1kaWFsb2ctYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1jbG9zZVwiPjwvaT48L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPCEtLSBQb3NzaWJsZSBmdXR1cmUgZmlsdGVyIGNvZGUgLS0+XG4gIDwhLS0gPG1hdC1mb3JtLWZpZWxkPlxuPGlucHV0IG1hdElucHV0IChrZXl1cCk9XCJhcHBseUZpbHRlcigkZXZlbnQudGFyZ2V0LnZhbHVlKVwiIHBsYWNlaG9sZGVyPVwiRmlsdGVyXCI+XG48L21hdC1mb3JtLWZpZWxkPiAtLT5cblxuICA8ZGl2IGNsYXNzPVwibW9kYWwtcm93XCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbHVtbi1vd25lcnNoaXBcIiBzdHlsZT1cIndpZHRoOiAzMCU7XCI+XG4gICAgICA8bWF0LWxpc3QtaXRlbT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGFibGUtdGV4dFwiPk1vZGU6Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7e3ttb2RlfX0gKHt7bW9kZVN5bX19KTwvZGl2PlxuICAgICAgPC9tYXQtbGlzdC1pdGVtPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwibW9kYWwtcm93XCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbHVtbi1vd25lcnNoaXBcIj5cbiAgICAgIDxtYXQtbGlzdC1pdGVtPlxuICAgICAgICBPd25lcjpcbiAgICAgICAgPG1hdC1mb3JtLWZpZWxkIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDE1cHg7XCI+XG4gICAgICAgICAgPGlucHV0IGlkPVwib3duZXItaW5wdXRcIiBuYW1lPVwibmFtZVwiIG1hdElucHV0IHR5cGU9XCJ0ZXh0XCIgW25nTW9kZWxdPVwib3duZXJcIlxuICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwib3duZXI9JGV2ZW50LnRvVXBwZXJDYXNlKClcIj5cbiAgICAgICAgICBAaWYgKGZvbGRlck5hbWUpIHtcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWwtY2xlYXItYnV0dG9uXCIgbWF0LWJ1dHRvbiBtYXRTdWZmaXggbWF0LWljb24tYnV0dG9uIGFyaWEtbGFiZWw9XCJDbGVhclwiXG4gICAgICAgICAgICAoY2xpY2spPVwiZm9sZGVyTmFtZT0nJ1wiPlxuICAgICAgICAgICAgPG1hdC1pY29uIGNsYXNzPVwiY3JlYXRlLWZvbGRlci1jbGVhci1pY29uXCI+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb2x1bW4tb3duZXJzaGlwXCI+XG4gICAgICA8bWF0LWxpc3QtaXRlbT5cbiAgICAgICAgR3JvdXA6XG4gICAgICAgIDxtYXQtZm9ybS1maWVsZCBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxNXB4O1wiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cImdyb3VwLWlucHV0XCIgbWF0SW5wdXQgdHlwZT1cInRleHRcIiBbbmdNb2RlbF09XCJncm91cFwiIChuZ01vZGVsQ2hhbmdlKT1cImdyb3VwPSRldmVudC50b1VwcGVyQ2FzZSgpXCI+XG4gICAgICAgICAgQGlmIChmb2xkZXJQYXRoKSB7XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsZWFyLWJ1dHRvblwiIG1hdC1idXR0b24gbWF0U3VmZml4IG1hdC1pY29uLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQ2xlYXJcIlxuICAgICAgICAgICAgKGNsaWNrKT1cImZvbGRlclBhdGg9JydcIj5cbiAgICAgICAgICAgIDxtYXQtaWNvbiBjbGFzcz1cImNyZWF0ZS1mb2xkZXItY2xlYXItaWNvblwiPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICA8L21hdC1saXN0LWl0ZW0+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIEBpZiAoaXNEaXJlY3RvcnkpIHtcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb2x1bW4tb3duZXJzaGlwXCIgc3R5bGU9XCJ3aWR0aDogMzAlO1wiPlxuICAgICAgPG1hdC1saXN0LWl0ZW0+XG4gICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzPVwic2VsZWN0YWJsZS10ZXh0XCIgWyhuZ01vZGVsKV09XCJyZWN1cnNpdmVcIj48L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICA8L21hdC1saXN0LWl0ZW0+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbHVtblwiPlxuICAgICAgPG1hdC1saXN0LWl0ZW0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RhYmxlLXRleHRcIj5SZWN1cnNpdmU/PC9kaXY+XG4gICAgICA8L21hdC1saXN0LWl0ZW0+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICB9XG5cbiAgPG1hdC1kaWFsb2ctYWN0aW9ucz5cbiAgICA8YnV0dG9uIG1hdC1idXR0b24gY2xhc3M9XCJtb2RhbC1tYXQtYnV0dG9uXCIgKGNsaWNrKT1cInNhdmVPd25lckluZm8oKVwiPlNhdmU8L2J1dHRvbj5cbiAgICA8IS0tIFRoZSBtYXQtZGlhbG9nLWNsb3NlIGRpcmVjdGl2ZSBvcHRpb25hbGx5IGFjY2VwdHMgYSB2YWx1ZSBhcyBhIHJlc3VsdCBmb3IgdGhlIGRpYWxvZy4gLS0+XG4gIDwvbWF0LWRpYWxvZy1hY3Rpb25zPlxuPC9kaXY+XG48IS0tXG4gICAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcbiAgICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xuICAgIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxuXG4gICAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEVQTC0yLjBcblxuICAgIENvcHlyaWdodCBDb250cmlidXRvcnMgdG8gdGhlIFpvd2UgUHJvamVjdC5cbiAgICAtLT4iXX0=