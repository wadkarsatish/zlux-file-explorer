/*
  This program and the accompanying materials are
  made available under the terms of the Eclipse Public License v2.0 which accompanies
  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html
  
  SPDX-License-Identifier: EPL-2.0
  
  Copyright Contributors to the Zowe Project.
*/
import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import { throwError } from 'rxjs';
import { CustomErrorStateMatcher } from '../../shared/error-state-matcher';
import { defaultSnackbarOptions } from '../../shared/snackbar-options';
import { finalize } from "rxjs/operators";
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/common/http";
import * as i3 from "@angular/material/snack-bar";
import * as i4 from "@angular/forms";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/material/input";
import * as i7 from "@angular/material/list";
import * as i8 from "@angular/material/checkbox";
import * as i9 from "@angular/material/button";
import * as i10 from "zlux-widgets";
import * as i11 from "@angular/material/slide-toggle";
export class FilePermissionsModal {
    constructor(data, dialogRef, http, snackBar) {
        this.dialogRef = dialogRef;
        this.http = http;
        this.snackBar = snackBar;
        this.name = '';
        this.path = '';
        this.modeSym = '';
        this.icon = '';
        this.userRead = false;
        this.groupRead = false;
        this.publicRead = false;
        this.userWrite = false;
        this.groupWrite = false;
        this.publicWrite = false;
        this.userExecute = false;
        this.groupExecute = false;
        this.publicExecute = false;
        this.isDirectory = false;
        this.recursive = false;
        this.node = null;
        this.octalModePattern = "^[0-7]{3}$";
        this.matcher = new CustomErrorStateMatcher();
        this.navigationKeys = [
            'Backspace',
            'Delete',
            'Tab',
            'Escape',
            'Enter',
            'Home',
            'End',
            'ArrowLeft',
            'ArrowRight',
            'Clear',
            'Copy',
            'Paste'
        ];
        this.node = data.event;
        this.name = this.node.name;
        this.path = this.node.path;
        this.owner = this.node.owner;
        this.group = this.node.group;
        this.octalMode = this.makeOctalModeString(this.node.mode);
        if (this.node.icon) {
            this.icon = this.node.icon;
        }
        else if (this.node.collapsedIcon) {
            this.icon = this.node.collapsedIcon;
        }
        if (this.node.directory) {
            this.isDirectory = true;
        }
        this.formatPermissions();
    }
    makeOctalModeString(mode) {
        const withZeros = '000' + mode;
        return withZeros.substring(withZeros.length - 3);
    }
    applyFilter(filterValue) {
    }
    formatPermissions() {
        const modeString = this.octalMode;
        let modeStringSym = "";
        for (let i = 0; i < 3; i++) {
            let value = modeString.charAt(i);
            switch (value) {
                case "0":
                    modeStringSym += "---";
                    break;
                case "1":
                    modeStringSym += "--x";
                    break;
                case "2":
                    modeStringSym += "-w-";
                    break;
                case "3":
                    modeStringSym += "-wx";
                    break;
                case "4":
                    modeStringSym += "r--";
                    break;
                case "5":
                    modeStringSym += "r-x";
                    break;
                case "6":
                    modeStringSym += "rw-";
                    break;
                case "7":
                    modeStringSym += "rwx";
                    break;
            }
        }
        this.modeSym = modeStringSym;
        let modeStringChar;
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.userRead = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.userWrite = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.userExecute = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.groupRead = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.groupWrite = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.groupExecute = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.publicRead = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.publicWrite = this.calcBooleanFromMode(modeStringChar);
        modeStringChar = modeStringSym.charAt(0);
        modeStringSym = modeStringSym.substring(1);
        this.publicExecute = this.calcBooleanFromMode(modeStringChar);
    }
    calcBooleanFromMode(char) {
        if (char == '-') {
            return false;
        }
        else {
            return true;
        }
    }
    updateUI() {
        let modeStringSym = "";
        if (this.userExecute) { //1, 3, 5, or 7
            if (this.userWrite) { //3 or 7
                if (this.userRead) {
                    modeStringSym += "7";
                }
                else {
                    modeStringSym += "3";
                }
            }
            else { // 1 or 5
                if (this.userRead) {
                    modeStringSym += "5";
                }
                else {
                    modeStringSym += "1";
                }
            }
        }
        else { // 0, 2, 4, or 6
            if (this.userWrite) { // 2 or 6
                if (this.userRead) {
                    modeStringSym += "6";
                }
                else {
                    modeStringSym += "2";
                }
            }
            else { //0 or 4
                if (this.userRead) {
                    modeStringSym += "4";
                }
                else {
                    modeStringSym += "0";
                }
            }
        }
        if (this.groupExecute) { //1, 3, 5, or 7
            if (this.groupWrite) { //3 or 7
                if (this.groupRead) {
                    modeStringSym += "7";
                }
                else {
                    modeStringSym += "3";
                }
            }
            else { // 1 or 5
                if (this.groupRead) {
                    modeStringSym += "5";
                }
                else {
                    modeStringSym += "1";
                }
            }
        }
        else { // 0, 2, 4, or 6
            if (this.groupWrite) { // 2 or 6
                if (this.groupRead) {
                    modeStringSym += "6";
                }
                else {
                    modeStringSym += "2";
                }
            }
            else { //0 or 4
                if (this.groupRead) {
                    modeStringSym += "4";
                }
                else {
                    modeStringSym += "0";
                }
            }
        }
        if (this.publicExecute) { //1, 3, 5, or 7
            if (this.publicWrite) { //3 or 7
                if (this.publicRead) {
                    modeStringSym += "7";
                }
                else {
                    modeStringSym += "3";
                }
            }
            else { // 1 or 5
                if (this.publicRead) {
                    modeStringSym += "5";
                }
                else {
                    modeStringSym += "1";
                }
            }
        }
        else { // 0, 2, 4, or 6
            if (this.publicWrite) { // 2 or 6
                if (this.publicRead) {
                    modeStringSym += "6";
                }
                else {
                    modeStringSym += "2";
                }
            }
            else { //0 or 4
                if (this.publicRead) {
                    modeStringSym += "4";
                }
                else {
                    modeStringSym += "0";
                }
            }
        }
        this.octalMode = modeStringSym;
        this.formatPermissions();
    }
    savePermissions() {
        let url = ZoweZLUX.uriBroker.unixFileUri('chmod', this.path, undefined, undefined, undefined, false, undefined, undefined, undefined, this.octalMode, this.recursive);
        this.http.post(url, null, { observe: 'response' }).pipe(finalize(() => this.closeDialog())).subscribe((res) => {
            if (res.status == 200) {
                this.snackBar.open(this.path + ' has been successfully changed to ' + this.octalMode + ".", 'Dismiss', defaultSnackbarOptions);
                this.node.mode = parseInt(this.octalMode, 10);
            }
            else {
                this.snackBar.open(res.status + " - A problem was encountered: " + res.statusText, 'Dismiss', defaultSnackbarOptions);
            }
        }, err => {
            this.handleErrorObservable(err);
        });
    }
    closeDialog() {
        const needUpdate = this.isDirectory;
        this.dialogRef.close(needUpdate);
    }
    onOctalModeChange(newOctalMode, octalModeInputIsValid) {
        if (octalModeInputIsValid) {
            this.octalMode = newOctalMode;
            this.formatPermissions();
        }
    }
    onOctalModeKeyDown(e) {
        if (this.navigationKeys.indexOf(e.key) !== -1) {
            return;
        }
        // Ctrl(or Meta) + A,C,V,X
        if ((e.ctrlKey || e.metaKey) && 'acvx'.indexOf(e.key) !== -1) {
            return;
        }
        if (('01234567').indexOf(e.key) === -1) {
            e.preventDefault();
        }
    }
    handleErrorObservable(error) {
        console.error(error.message || error);
        this.snackBar.open(error.status + " - A problem was encountered: " + error._body, 'Dismiss', defaultSnackbarOptions);
        return throwError(error.message || error);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FilePermissionsModal, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.MatDialogRef }, { token: i2.HttpClient }, { token: i3.MatSnackBar }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.0.7", type: FilePermissionsModal, selector: "file-permissions-modal", ngImport: i0, template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<!-- FA Icon is determined by class name, so we hardcode the style here -->\n<i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n<button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n<h2 mat-dialog-title class=\"file-permissions-header\">{{name}} - Change Permissions</h2>\n\n\n<!-- Possible future filter code -->\n<!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n<div class=\"file-permissions-row\">\n  <mat-list-item>\n    <div class=\"modal-column\">\n      <span class=\"file-permissions-subtitle\">Owner: {{ owner }}</span>\n    </div>\n    <div class=\"modal-column\">\n      <span class=\"file-permissions-subtitle\">Group: {{ group }}</span>\n    </div>\n  </mat-list-item>\n</div>\n<div class=\"file-permissions-row\">\n  <div class=\"modal-column-full-width\">\n    <mat-list-item>\n      <span class=\"file-permissions-subtitle\">Mode:</span>\n      <mat-form-field class=\"mode-form-field\">\n        <input class=\"mode-input\" matInput required type=\"text\" maxlength=\"3\" minlength=\"3\" [pattern]=\"octalModePattern\"\n          [ngModel]=\"octalMode\" (ngModelChange)=\"onOctalModeChange($event, octalModeInput.valid)\"\n          #octalModeInput=\"ngModel\" (keydown)=\"onOctalModeKeyDown($event)\" [errorStateMatcher]=\"matcher\">\n        @if (octalModeInput.hasError('pattern') && !octalModeInput.hasError(\"required\")) {\n        <mat-error>\n          Invalid mode\n        </mat-error>\n        }\n        @if (octalModeInput.hasError(\"required\")) {\n        <mat-error>\n          Mode is required\n        </mat-error>\n        }\n      </mat-form-field>\n      <span class=\"mode-sym\">{{modeSym}}</span>\n    </mat-list-item>\n  </div>\n</div>\n\n<div class=\"container\">\n\n  <span class=\"file-permissions-subtitle user\">Owner</span>\n  <section class=\"example-section user\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n\n  <span class=\"file-permissions-subtitle group\">Group</span>\n  <section class=\"example-section group\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n\n  <span class=\"file-permissions-subtitle public\">Other</span>\n  <section class=\"example-section public\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n</div>\n\n@if (isDirectory) {\n<div class=\"file-permissions-row\">\n  <div class=\"modal-column\" style=\"width: 30%;\">\n    <mat-list-item>\n      <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n    </mat-list-item>\n  </div>\n  <div class=\"modal-column\">\n    <mat-list-item>\n      <div class=\"selectable-text\">Recursive?</div>\n    </mat-list-item>\n  </div>\n</div>\n}\n\n<mat-dialog-actions>\n  <button mat-button class=\"modal-mat-button\" (click)=\"savePermissions()\"\n    [disabled]=\"octalModeInput.invalid\">Save</button>\n  <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n</mat-dialog-actions>\n\n<!--\n  This program and the accompanying materials are\n  made available under the terms of the Eclipse Public License v2.0 which accompanies\n  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n  SPDX-License-Identifier: EPL-2.0\n\n  Copyright Contributors to the Zowe Project.\n  -->", styles: [".file-permissions-row:after{content:\"\";display:table;clear:both}.file-permissions-row{font-size:medium;padding-left:15px;padding-bottom:15px;padding-top:15px}.file-permissions-title{vertical-align:middle;float:left}.file-permissions-header{margin-left:33px;margin-bottom:15px}.example-section{display:flex}.example-margin{margin:0 10px}.file-permissions-subtitle{font-size:large;font-weight:500}.container{display:grid;grid-template-columns:75px 200px;grid-template-rows:75px 75px 75px;align-content:center;align-items:center}.file-permissions-subtitle.user{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:2}.example-section.user{grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:2}.mode-form-field{width:6rem;margin-left:2rem}.mode-input{text-align:center;padding:0 1rem}.mode-sym{font-family:monospace;font-size:16px;margin-left:1rem;letter-spacing:1px;font-weight:600}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{padding:6px;width:85px;border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:33px;margin-bottom:15px;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}\n"], dependencies: [{ kind: "directive", type: i4.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { kind: "directive", type: i4.MinLengthValidator, selector: "[minlength][formControlName],[minlength][formControl],[minlength][ngModel]", inputs: ["minlength"] }, { kind: "directive", type: i4.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i4.PatternValidator, selector: "[pattern][formControlName],[pattern][formControl],[pattern][ngModel]", inputs: ["pattern"] }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i1.MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }, { kind: "directive", type: i1.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "directive", type: i1.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "component", type: i5.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i5.MatError, selector: "mat-error, [matError]", inputs: ["id"] }, { kind: "directive", type: i6.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i7.MatListItem, selector: "mat-list-item, a[mat-list-item], button[mat-list-item]", inputs: ["activated"], exportAs: ["matListItem"] }, { kind: "component", type: i8.MatCheckbox, selector: "mat-checkbox", inputs: ["aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "disableRipple", "tabIndex", "color", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { kind: "component", type: i9.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i10.ZluxTabbingComponent, selector: "zlux-tab-trap", inputs: ["hiddenIds", "hiddenPos"] }, { kind: "component", type: i11.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "color", "disabled", "disableRipple", "tabIndex", "checked", "hideIcon"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: FilePermissionsModal, decorators: [{
            type: Component,
            args: [{ selector: 'file-permissions-modal', template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap></zlux-tab-trap>\n<!-- FA Icon is determined by class name, so we hardcode the style here -->\n<i class=\"{{icon}}\" style=\"font-size:24px; position: absolute; margin-top: 4px; margin-left: 3px;\"></i>\n<button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n<h2 mat-dialog-title class=\"file-permissions-header\">{{name}} - Change Permissions</h2>\n\n\n<!-- Possible future filter code -->\n<!-- <mat-form-field>\n<input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n</mat-form-field> -->\n\n<div class=\"file-permissions-row\">\n  <mat-list-item>\n    <div class=\"modal-column\">\n      <span class=\"file-permissions-subtitle\">Owner: {{ owner }}</span>\n    </div>\n    <div class=\"modal-column\">\n      <span class=\"file-permissions-subtitle\">Group: {{ group }}</span>\n    </div>\n  </mat-list-item>\n</div>\n<div class=\"file-permissions-row\">\n  <div class=\"modal-column-full-width\">\n    <mat-list-item>\n      <span class=\"file-permissions-subtitle\">Mode:</span>\n      <mat-form-field class=\"mode-form-field\">\n        <input class=\"mode-input\" matInput required type=\"text\" maxlength=\"3\" minlength=\"3\" [pattern]=\"octalModePattern\"\n          [ngModel]=\"octalMode\" (ngModelChange)=\"onOctalModeChange($event, octalModeInput.valid)\"\n          #octalModeInput=\"ngModel\" (keydown)=\"onOctalModeKeyDown($event)\" [errorStateMatcher]=\"matcher\">\n        @if (octalModeInput.hasError('pattern') && !octalModeInput.hasError(\"required\")) {\n        <mat-error>\n          Invalid mode\n        </mat-error>\n        }\n        @if (octalModeInput.hasError(\"required\")) {\n        <mat-error>\n          Mode is required\n        </mat-error>\n        }\n      </mat-form-field>\n      <span class=\"mode-sym\">{{modeSym}}</span>\n    </mat-list-item>\n  </div>\n</div>\n\n<div class=\"container\">\n\n  <span class=\"file-permissions-subtitle user\">Owner</span>\n  <section class=\"example-section user\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"userExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n\n  <span class=\"file-permissions-subtitle group\">Group</span>\n  <section class=\"example-section group\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"groupExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n\n  <span class=\"file-permissions-subtitle public\">Other</span>\n  <section class=\"example-section public\">\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicRead\"\n      (change)=\"updateUI()\">Read</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicWrite\"\n      (change)=\"updateUI()\">Write</mat-checkbox>\n    <mat-checkbox color=\"primary\" class=\"example-margin\" [(ngModel)]=\"publicExecute\"\n      (change)=\"updateUI()\">Execute</mat-checkbox>\n  </section>\n</div>\n\n@if (isDirectory) {\n<div class=\"file-permissions-row\">\n  <div class=\"modal-column\" style=\"width: 30%;\">\n    <mat-list-item>\n      <mat-slide-toggle color=\"primary\" class=\"selectable-text\" [(ngModel)]=\"recursive\"></mat-slide-toggle>\n    </mat-list-item>\n  </div>\n  <div class=\"modal-column\">\n    <mat-list-item>\n      <div class=\"selectable-text\">Recursive?</div>\n    </mat-list-item>\n  </div>\n</div>\n}\n\n<mat-dialog-actions>\n  <button mat-button class=\"modal-mat-button\" (click)=\"savePermissions()\"\n    [disabled]=\"octalModeInput.invalid\">Save</button>\n  <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n</mat-dialog-actions>\n\n<!--\n  This program and the accompanying materials are\n  made available under the terms of the Eclipse Public License v2.0 which accompanies\n  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n  SPDX-License-Identifier: EPL-2.0\n\n  Copyright Contributors to the Zowe Project.\n  -->", styles: [".file-permissions-row:after{content:\"\";display:table;clear:both}.file-permissions-row{font-size:medium;padding-left:15px;padding-bottom:15px;padding-top:15px}.file-permissions-title{vertical-align:middle;float:left}.file-permissions-header{margin-left:33px;margin-bottom:15px}.example-section{display:flex}.example-margin{margin:0 10px}.file-permissions-subtitle{font-size:large;font-weight:500}.container{display:grid;grid-template-columns:75px 200px;grid-template-rows:75px 75px 75px;align-content:center;align-items:center}.file-permissions-subtitle.user{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:2}.example-section.user{grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:2}.mode-form-field{width:6rem;margin-left:2rem}.mode-input{text-align:center;padding:0 1rem}.mode-sym{font-family:monospace;font-size:16px;margin-left:1rem;letter-spacing:1px;font-weight:600}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{padding:6px;width:85px;border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:33px;margin-bottom:15px;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.MatDialogRef }, { type: i2.HttpClient }, { type: i3.MatSnackBar }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1wZXJtaXNzaW9ucy1tb2RhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2ZpbGUtcGVybWlzc2lvbnMtbW9kYWwvZmlsZS1wZXJtaXNzaW9ucy1tb2RhbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2ZpbGUtcGVybWlzc2lvbnMtbW9kYWwvZmlsZS1wZXJtaXNzaW9ucy1tb2RhbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTs7Ozs7Ozs7RUFRRTtBQUNGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBRSxlQUFlLEVBQWdCLE1BQU0sMEJBQTBCLENBQUM7QUFFekUsT0FBTyxFQUFjLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUU5QyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUUzRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUN2RSxPQUFPLEVBQUUsUUFBUSxFQUFtQixNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7O0FBUTNELE1BQU0sT0FBTyxvQkFBb0I7SUFzQy9CLFlBQzJCLElBQUksRUFDckIsU0FBNkMsRUFDN0MsSUFBZ0IsRUFDaEIsUUFBcUI7UUFGckIsY0FBUyxHQUFULFNBQVMsQ0FBb0M7UUFDN0MsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUNoQixhQUFRLEdBQVIsUUFBUSxDQUFhO1FBeEN4QixTQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ1YsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLFlBQU8sR0FBRyxFQUFFLENBQUM7UUFDYixT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QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFMUQsY0FBYyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFM0QsY0FBYyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFN0QsY0FBYyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFM0QsY0FBYyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFNUQsY0FBYyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENB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ZUFBZTtrR0F2Q2Qsb0JBQW9CLDhEQzFCakMsazBKQXFISzs7MkZEM0ZRLG9CQUFvQjtrQkFOaEMsU0FBUzsrQkFDRSx3QkFBd0I7OzBCQTRDL0IsTUFBTTsyQkFBQyxlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qXHJcbiAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcclxuICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xyXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxyXG4gIFxyXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXHJcbiAgXHJcbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxyXG4qL1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IE1hdFNuYWNrQmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc25hY2stYmFyJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xyXG5pbXBvcnQgeyBDdXN0b21FcnJvclN0YXRlTWF0Y2hlciB9IGZyb20gJy4uLy4uL3NoYXJlZC9lcnJvci1zdGF0ZS1tYXRjaGVyJztcclxuaW1wb3J0IHsgRm9ybUNvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IGRlZmF1bHRTbmFja2Jhck9wdGlvbnMgfSBmcm9tICcuLi8uLi9zaGFyZWQvc25hY2tiYXItb3B0aW9ucyc7XHJcbmltcG9ydCB7IGZpbmFsaXplLCBjYXRjaEVycm9yLCBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZmlsZS1wZXJtaXNzaW9ucy1tb2RhbCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2ZpbGUtcGVybWlzc2lvbnMtbW9kYWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2ZpbGUtcGVybWlzc2lvbnMtbW9kYWwuY29tcG9uZW50LnNjc3MnLFxyXG4gICAgJy4uLy4uL3NoYXJlZC9tb2RhbC5jb21wb25lbnQuc2NzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRmlsZVBlcm1pc3Npb25zTW9kYWwge1xyXG5cclxuICBwdWJsaWMgbmFtZSA9ICcnO1xyXG4gIHB1YmxpYyBwYXRoID0gJyc7XHJcbiAgcHVibGljIG1vZGVTeW0gPSAnJztcclxuICBwdWJsaWMgaWNvbiA9ICcnO1xyXG4gIHB1YmxpYyB1c2VyUmVhZCA9IGZhbHNlO1xyXG4gIHB1YmxpYyBncm91cFJlYWQgPSBmYWxzZTtcclxuICBwdWJsaWMgcHVibGljUmVhZCA9IGZhbHNlO1xyXG4gIHB1YmxpYyB1c2VyV3JpdGUgPSBmYWxzZTtcclxuICBwdWJsaWMgZ3JvdXBXcml0ZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyBwdWJsaWNXcml0ZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyB1c2VyRXhlY3V0ZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyBncm91cEV4ZWN1dGUgPSBmYWxzZTtcclxuICBwdWJsaWMgcHVibGljRXhlY3V0ZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyBpc0RpcmVjdG9yeSA9IGZhbHNlO1xyXG4gIHB1YmxpYyByZWN1cnNpdmUgPSBmYWxzZTtcclxuICBwdWJsaWMgbm9kZSA9IG51bGw7XHJcbiAgcHVibGljIG93bmVyOiBzdHJpbmc7XHJcbiAgcHVibGljIGdyb3VwOiBzdHJpbmc7XHJcbiAgcHVibGljIG9jdGFsTW9kZTogc3RyaW5nOyAvLyAzLWNoYXJzIHN0cmluZyBlLmcuIFwiMDc3XCJcclxuICBwdWJsaWMgb2N0YWxNb2RlUGF0dGVybiA9IFwiXlswLTddezN9JFwiO1xyXG4gIG1hdGNoZXIgPSBuZXcgQ3VzdG9tRXJyb3JTdGF0ZU1hdGNoZXIoKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IG5hdmlnYXRpb25LZXlzID0gW1xyXG4gICAgJ0JhY2tzcGFjZScsXHJcbiAgICAnRGVsZXRlJyxcclxuICAgICdUYWInLFxyXG4gICAgJ0VzY2FwZScsXHJcbiAgICAnRW50ZXInLFxyXG4gICAgJ0hvbWUnLFxyXG4gICAgJ0VuZCcsXHJcbiAgICAnQXJyb3dMZWZ0JyxcclxuICAgICdBcnJvd1JpZ2h0JyxcclxuICAgICdDbGVhcicsXHJcbiAgICAnQ29weScsXHJcbiAgICAnUGFzdGUnXHJcbiAgXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgZGF0YSxcclxuICAgIHByaXZhdGUgZGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8RmlsZVBlcm1pc3Npb25zTW9kYWw+LFxyXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxyXG4gICAgcHJpdmF0ZSBzbmFja0JhcjogTWF0U25hY2tCYXIsXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5vZGUgPSBkYXRhLmV2ZW50O1xyXG4gICAgdGhpcy5uYW1lID0gdGhpcy5ub2RlLm5hbWU7XHJcbiAgICB0aGlzLnBhdGggPSB0aGlzLm5vZGUucGF0aDtcclxuICAgIHRoaXMub3duZXIgPSB0aGlzLm5vZGUub3duZXI7XHJcbiAgICB0aGlzLmdyb3VwID0gdGhpcy5ub2RlLmdyb3VwO1xyXG4gICAgdGhpcy5vY3RhbE1vZGUgPSB0aGlzLm1ha2VPY3RhbE1vZGVTdHJpbmcodGhpcy5ub2RlLm1vZGUpO1xyXG5cclxuICAgIGlmICh0aGlzLm5vZGUuaWNvbikge1xyXG4gICAgICB0aGlzLmljb24gPSB0aGlzLm5vZGUuaWNvbjtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLmNvbGxhcHNlZEljb24pIHtcclxuICAgICAgdGhpcy5pY29uID0gdGhpcy5ub2RlLmNvbGxhcHNlZEljb247XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubm9kZS5kaXJlY3RvcnkpIHtcclxuICAgICAgdGhpcy5pc0RpcmVjdG9yeSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mb3JtYXRQZXJtaXNzaW9ucygpO1xyXG4gIH1cclxuXHJcbiAgbWFrZU9jdGFsTW9kZVN0cmluZyhtb2RlOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgd2l0aFplcm9zID0gJzAwMCcgKyBtb2RlO1xyXG4gICAgcmV0dXJuIHdpdGhaZXJvcy5zdWJzdHJpbmcod2l0aFplcm9zLmxlbmd0aCAtIDMpO1xyXG4gIH1cclxuXHJcbiAgYXBwbHlGaWx0ZXIoZmlsdGVyVmFsdWU6IHN0cmluZykge1xyXG4gIH1cclxuXHJcbiAgZm9ybWF0UGVybWlzc2lvbnMoKSB7XHJcbiAgICBjb25zdCBtb2RlU3RyaW5nID0gdGhpcy5vY3RhbE1vZGU7XHJcbiAgICBsZXQgbW9kZVN0cmluZ1N5bSA9IFwiXCI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICBsZXQgdmFsdWUgPSBtb2RlU3RyaW5nLmNoYXJBdChpKTtcclxuICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgXCIwXCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiLS0tXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIi0teFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCItdy1cIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiLXd4XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiNFwiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcInItLVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCJyLXhcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwicnctXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiN1wiOlxyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcInJ3eFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMubW9kZVN5bSA9IG1vZGVTdHJpbmdTeW07XHJcbiAgICBsZXQgbW9kZVN0cmluZ0NoYXI7XHJcblxyXG4gICAgbW9kZVN0cmluZ0NoYXIgPSBtb2RlU3RyaW5nU3ltLmNoYXJBdCgwKTtcclxuICAgIG1vZGVTdHJpbmdTeW0gPSBtb2RlU3RyaW5nU3ltLnN1YnN0cmluZygxKTtcclxuICAgIHRoaXMudXNlclJlYWQgPSB0aGlzLmNhbGNCb29sZWFuRnJvbU1vZGUobW9kZVN0cmluZ0NoYXIpO1xyXG5cclxuICAgIG1vZGVTdHJpbmdDaGFyID0gbW9kZVN0cmluZ1N5bS5jaGFyQXQoMCk7XHJcbiAgICBtb2RlU3RyaW5nU3ltID0gbW9kZVN0cmluZ1N5bS5zdWJzdHJpbmcoMSk7XHJcbiAgICB0aGlzLnVzZXJXcml0ZSA9IHRoaXMuY2FsY0Jvb2xlYW5Gcm9tTW9kZShtb2RlU3RyaW5nQ2hhcik7XHJcblxyXG4gICAgbW9kZVN0cmluZ0NoYXIgPSBtb2RlU3RyaW5nU3ltLmNoYXJBdCgwKTtcclxuICAgIG1vZGVTdHJpbmdTeW0gPSBtb2RlU3RyaW5nU3ltLnN1YnN0cmluZygxKTtcclxuICAgIHRoaXMudXNlckV4ZWN1dGUgPSB0aGlzLmNhbGNCb29sZWFuRnJvbU1vZGUobW9kZVN0cmluZ0NoYXIpO1xyXG5cclxuICAgIG1vZGVTdHJpbmdDaGFyID0gbW9kZVN0cmluZ1N5bS5jaGFyQXQoMCk7XHJcbiAgICBtb2RlU3RyaW5nU3ltID0gbW9kZVN0cmluZ1N5bS5zdWJzdHJpbmcoMSk7XHJcbiAgICB0aGlzLmdyb3VwUmVhZCA9IHRoaXMuY2FsY0Jvb2xlYW5Gcm9tTW9kZShtb2RlU3RyaW5nQ2hhcik7XHJcblxyXG4gICAgbW9kZVN0cmluZ0NoYXIgPSBtb2RlU3RyaW5nU3ltLmNoYXJBdCgwKTtcclxuICAgIG1vZGVTdHJpbmdTeW0gPSBtb2RlU3RyaW5nU3ltLnN1YnN0cmluZygxKTtcclxuICAgIHRoaXMuZ3JvdXBXcml0ZSA9IHRoaXMuY2FsY0Jvb2xlYW5Gcm9tTW9kZShtb2RlU3RyaW5nQ2hhcik7XHJcblxyXG4gICAgbW9kZVN0cmluZ0NoYXIgPSBtb2RlU3RyaW5nU3ltLmNoYXJBdCgwKTtcclxuICAgIG1vZGVTdHJpbmdTeW0gPSBtb2RlU3RyaW5nU3ltLnN1YnN0cmluZygxKTtcclxuICAgIHRoaXMuZ3JvdXBFeGVjdXRlID0gdGhpcy5jYWxjQm9vbGVhbkZyb21Nb2RlKG1vZGVTdHJpbmdDaGFyKTtcclxuXHJcbiAgICBtb2RlU3RyaW5nQ2hhciA9IG1vZGVTdHJpbmdTeW0uY2hhckF0KDApO1xyXG4gICAgbW9kZVN0cmluZ1N5bSA9IG1vZGVTdHJpbmdTeW0uc3Vic3RyaW5nKDEpO1xyXG4gICAgdGhpcy5wdWJsaWNSZWFkID0gdGhpcy5jYWxjQm9vbGVhbkZyb21Nb2RlKG1vZGVTdHJpbmdDaGFyKTtcclxuXHJcbiAgICBtb2RlU3RyaW5nQ2hhciA9IG1vZGVTdHJpbmdTeW0uY2hhckF0KDApO1xyXG4gICAgbW9kZVN0cmluZ1N5bSA9IG1vZGVTdHJpbmdTeW0uc3Vic3RyaW5nKDEpO1xyXG4gICAgdGhpcy5wdWJsaWNXcml0ZSA9IHRoaXMuY2FsY0Jvb2xlYW5Gcm9tTW9kZShtb2RlU3RyaW5nQ2hhcik7XHJcblxyXG4gICAgbW9kZVN0cmluZ0NoYXIgPSBtb2RlU3RyaW5nU3ltLmNoYXJBdCgwKTtcclxuICAgIG1vZGVTdHJpbmdTeW0gPSBtb2RlU3RyaW5nU3ltLnN1YnN0cmluZygxKTtcclxuICAgIHRoaXMucHVibGljRXhlY3V0ZSA9IHRoaXMuY2FsY0Jvb2xlYW5Gcm9tTW9kZShtb2RlU3RyaW5nQ2hhcik7XHJcbiAgfVxyXG5cclxuICBjYWxjQm9vbGVhbkZyb21Nb2RlKGNoYXI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGNoYXIgPT0gJy0nKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlVUkoKSB7XHJcblxyXG4gICAgbGV0IG1vZGVTdHJpbmdTeW0gPSBcIlwiO1xyXG5cclxuICAgIGlmICh0aGlzLnVzZXJFeGVjdXRlKSB7IC8vMSwgMywgNSwgb3IgN1xyXG4gICAgICBpZiAodGhpcy51c2VyV3JpdGUpIHsgLy8zIG9yIDdcclxuICAgICAgICBpZiAodGhpcy51c2VyUmVhZCkge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjdcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjNcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7IC8vIDEgb3IgNVxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJSZWFkKSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiNVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiMVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHsgLy8gMCwgMiwgNCwgb3IgNlxyXG4gICAgICBpZiAodGhpcy51c2VyV3JpdGUpIHsgLy8gMiBvciA2XHJcbiAgICAgICAgaWYgKHRoaXMudXNlclJlYWQpIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCI2XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCIyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLzAgb3IgNFxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJSZWFkKSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiNFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdyb3VwRXhlY3V0ZSkgeyAvLzEsIDMsIDUsIG9yIDdcclxuICAgICAgaWYgKHRoaXMuZ3JvdXBXcml0ZSkgeyAvLzMgb3IgN1xyXG4gICAgICAgIGlmICh0aGlzLmdyb3VwUmVhZCkge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjdcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjNcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7IC8vIDEgb3IgNVxyXG4gICAgICAgIGlmICh0aGlzLmdyb3VwUmVhZCkge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjVcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjFcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7IC8vIDAsIDIsIDQsIG9yIDZcclxuICAgICAgaWYgKHRoaXMuZ3JvdXBXcml0ZSkgeyAvLyAyIG9yIDZcclxuICAgICAgICBpZiAodGhpcy5ncm91cFJlYWQpIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCI2XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCIyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLzAgb3IgNFxyXG4gICAgICAgIGlmICh0aGlzLmdyb3VwUmVhZCkge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjRcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kZVN0cmluZ1N5bSArPSBcIjBcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wdWJsaWNFeGVjdXRlKSB7IC8vMSwgMywgNSwgb3IgN1xyXG4gICAgICBpZiAodGhpcy5wdWJsaWNXcml0ZSkgeyAvLzMgb3IgN1xyXG4gICAgICAgIGlmICh0aGlzLnB1YmxpY1JlYWQpIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCI3XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG1vZGVTdHJpbmdTeW0gKz0gXCIzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLyAxIG9yIDVcclxuICAgICAgICBpZiAodGhpcy5wdWJsaWNSZWFkKSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiNVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiMVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHsgLy8gMCwgMiwgNCwgb3IgNlxyXG4gICAgICBpZiAodGhpcy5wdWJsaWNXcml0ZSkgeyAvLyAyIG9yIDZcclxuICAgICAgICBpZiAodGhpcy5wdWJsaWNSZWFkKSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiNlwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiMlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHsgLy8wIG9yIDRcclxuICAgICAgICBpZiAodGhpcy5wdWJsaWNSZWFkKSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiNFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb2RlU3RyaW5nU3ltICs9IFwiMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2N0YWxNb2RlID0gbW9kZVN0cmluZ1N5bTtcclxuICAgIHRoaXMuZm9ybWF0UGVybWlzc2lvbnMoKTtcclxuICB9XHJcblxyXG4gIHNhdmVQZXJtaXNzaW9ucygpIHtcclxuICAgIGxldCB1cmw6IHN0cmluZyA9IFpvd2VaTFVYLnVyaUJyb2tlci51bml4RmlsZVVyaSgnY2htb2QnLCB0aGlzLnBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLm9jdGFsTW9kZSwgdGhpcy5yZWN1cnNpdmUpO1xyXG4gICAgdGhpcy5odHRwLnBvc3QodXJsLCBudWxsLCB7IG9ic2VydmU6ICdyZXNwb25zZScgfSkucGlwZShcclxuICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5jbG9zZURpYWxvZygpKSxcclxuICAgICkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgIHRoaXMuc25hY2tCYXIub3Blbih0aGlzLnBhdGggKyAnIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjaGFuZ2VkIHRvICcgKyB0aGlzLm9jdGFsTW9kZSArIFwiLlwiLFxyXG4gICAgICAgICAgICAnRGlzbWlzcycsIGRlZmF1bHRTbmFja2Jhck9wdGlvbnMpO1xyXG4gICAgICAgICAgdGhpcy5ub2RlLm1vZGUgPSBwYXJzZUludCh0aGlzLm9jdGFsTW9kZSwgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNuYWNrQmFyLm9wZW4ocmVzLnN0YXR1cyArIFwiIC0gQSBwcm9ibGVtIHdhcyBlbmNvdW50ZXJlZDogXCIgKyByZXMuc3RhdHVzVGV4dCxcclxuICAgICAgICAgICAgJ0Rpc21pc3MnLCBkZWZhdWx0U25hY2tiYXJPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVyciA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvck9ic2VydmFibGUoZXJyKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNsb3NlRGlhbG9nKCkge1xyXG4gICAgY29uc3QgbmVlZFVwZGF0ZSA9IHRoaXMuaXNEaXJlY3Rvcnk7XHJcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZShuZWVkVXBkYXRlKTtcclxuICB9XHJcblxyXG4gIG9uT2N0YWxNb2RlQ2hhbmdlKG5ld09jdGFsTW9kZTogc3RyaW5nLCBvY3RhbE1vZGVJbnB1dElzVmFsaWQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmIChvY3RhbE1vZGVJbnB1dElzVmFsaWQpIHtcclxuICAgICAgdGhpcy5vY3RhbE1vZGUgPSBuZXdPY3RhbE1vZGU7XHJcbiAgICAgIHRoaXMuZm9ybWF0UGVybWlzc2lvbnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uT2N0YWxNb2RlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5uYXZpZ2F0aW9uS2V5cy5pbmRleE9mKGUua2V5KSAhPT0gLTEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gQ3RybChvciBNZXRhKSArIEEsQyxWLFhcclxuICAgIGlmICgoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgJ2FjdngnLmluZGV4T2YoZS5rZXkpICE9PSAtMSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoKCcwMTIzNDU2NycpLmluZGV4T2YoZS5rZXkpID09PSAtMSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZUVycm9yT2JzZXJ2YWJsZShlcnJvcjogUmVzcG9uc2UgfCBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSB8fCBlcnJvcik7XHJcbiAgICB0aGlzLnNuYWNrQmFyLm9wZW4oZXJyb3Iuc3RhdHVzICsgXCIgLSBBIHByb2JsZW0gd2FzIGVuY291bnRlcmVkOiBcIiArIGVycm9yLl9ib2R5LFxyXG4gICAgICAnRGlzbWlzcycsIGRlZmF1bHRTbmFja2Jhck9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IubWVzc2FnZSB8fCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKlxyXG4gIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlXHJcbiAgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYyLjAgd2hpY2ggYWNjb21wYW5pZXNcclxuICB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjIwLmh0bWxcclxuICBcclxuICBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogRVBMLTIuMFxyXG4gIFxyXG4gIENvcHlyaWdodCBDb250cmlidXRvcnMgdG8gdGhlIFpvd2UgUHJvamVjdC5cclxuKi9cclxuIiwiPCEtLVxuVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcbm1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2Mi4wIHdoaWNoIGFjY29tcGFuaWVzXG50aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjIwLmh0bWxcblxuU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEVQTC0yLjBcblxuQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxuLS0+XG48emx1eC10YWItdHJhcD48L3psdXgtdGFiLXRyYXA+XG48IS0tIEZBIEljb24gaXMgZGV0ZXJtaW5lZCBieSBjbGFzcyBuYW1lLCBzbyB3ZSBoYXJkY29kZSB0aGUgc3R5bGUgaGVyZSAtLT5cbjxpIGNsYXNzPVwie3tpY29ufX1cIiBzdHlsZT1cImZvbnQtc2l6ZToyNHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi10b3A6IDRweDsgbWFyZ2luLWxlZnQ6IDNweDtcIj48L2k+XG48YnV0dG9uIG1hdC1kaWFsb2ctY2xvc2UgY2xhc3M9XCJjbG9zZS1kaWFsb2ctYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1jbG9zZVwiPjwvaT48L2J1dHRvbj5cbjxoMiBtYXQtZGlhbG9nLXRpdGxlIGNsYXNzPVwiZmlsZS1wZXJtaXNzaW9ucy1oZWFkZXJcIj57e25hbWV9fSAtIENoYW5nZSBQZXJtaXNzaW9uczwvaDI+XG5cblxuPCEtLSBQb3NzaWJsZSBmdXR1cmUgZmlsdGVyIGNvZGUgLS0+XG48IS0tIDxtYXQtZm9ybS1maWVsZD5cbjxpbnB1dCBtYXRJbnB1dCAoa2V5dXApPVwiYXBwbHlGaWx0ZXIoJGV2ZW50LnRhcmdldC52YWx1ZSlcIiBwbGFjZWhvbGRlcj1cIkZpbHRlclwiPlxuPC9tYXQtZm9ybS1maWVsZD4gLS0+XG5cbjxkaXYgY2xhc3M9XCJmaWxlLXBlcm1pc3Npb25zLXJvd1wiPlxuICA8bWF0LWxpc3QtaXRlbT5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImZpbGUtcGVybWlzc2lvbnMtc3VidGl0bGVcIj5Pd25lcjoge3sgb3duZXIgfX08L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbHVtblwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJmaWxlLXBlcm1pc3Npb25zLXN1YnRpdGxlXCI+R3JvdXA6IHt7IGdyb3VwIH19PC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L21hdC1saXN0LWl0ZW0+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJmaWxlLXBlcm1pc3Npb25zLXJvd1wiPlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uLWZ1bGwtd2lkdGhcIj5cbiAgICA8bWF0LWxpc3QtaXRlbT5cbiAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1wZXJtaXNzaW9ucy1zdWJ0aXRsZVwiPk1vZGU6PC9zcGFuPlxuICAgICAgPG1hdC1mb3JtLWZpZWxkIGNsYXNzPVwibW9kZS1mb3JtLWZpZWxkXCI+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cIm1vZGUtaW5wdXRcIiBtYXRJbnB1dCByZXF1aXJlZCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjNcIiBtaW5sZW5ndGg9XCIzXCIgW3BhdHRlcm5dPVwib2N0YWxNb2RlUGF0dGVyblwiXG4gICAgICAgICAgW25nTW9kZWxdPVwib2N0YWxNb2RlXCIgKG5nTW9kZWxDaGFuZ2UpPVwib25PY3RhbE1vZGVDaGFuZ2UoJGV2ZW50LCBvY3RhbE1vZGVJbnB1dC52YWxpZClcIlxuICAgICAgICAgICNvY3RhbE1vZGVJbnB1dD1cIm5nTW9kZWxcIiAoa2V5ZG93bik9XCJvbk9jdGFsTW9kZUtleURvd24oJGV2ZW50KVwiIFtlcnJvclN0YXRlTWF0Y2hlcl09XCJtYXRjaGVyXCI+XG4gICAgICAgIEBpZiAob2N0YWxNb2RlSW5wdXQuaGFzRXJyb3IoJ3BhdHRlcm4nKSAmJiAhb2N0YWxNb2RlSW5wdXQuaGFzRXJyb3IoXCJyZXF1aXJlZFwiKSkge1xuICAgICAgICA8bWF0LWVycm9yPlxuICAgICAgICAgIEludmFsaWQgbW9kZVxuICAgICAgICA8L21hdC1lcnJvcj5cbiAgICAgICAgfVxuICAgICAgICBAaWYgKG9jdGFsTW9kZUlucHV0Lmhhc0Vycm9yKFwicmVxdWlyZWRcIikpIHtcbiAgICAgICAgPG1hdC1lcnJvcj5cbiAgICAgICAgICBNb2RlIGlzIHJlcXVpcmVkXG4gICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICB9XG4gICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtb2RlLXN5bVwiPnt7bW9kZVN5bX19PC9zcGFuPlxuICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuXG4gIDxzcGFuIGNsYXNzPVwiZmlsZS1wZXJtaXNzaW9ucy1zdWJ0aXRsZSB1c2VyXCI+T3duZXI8L3NwYW4+XG4gIDxzZWN0aW9uIGNsYXNzPVwiZXhhbXBsZS1zZWN0aW9uIHVzZXJcIj5cbiAgICA8bWF0LWNoZWNrYm94IGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzPVwiZXhhbXBsZS1tYXJnaW5cIiBbKG5nTW9kZWwpXT1cInVzZXJSZWFkXCJcbiAgICAgIChjaGFuZ2UpPVwidXBkYXRlVUkoKVwiPlJlYWQ8L21hdC1jaGVja2JveD5cbiAgICA8bWF0LWNoZWNrYm94IGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzPVwiZXhhbXBsZS1tYXJnaW5cIiBbKG5nTW9kZWwpXT1cInVzZXJXcml0ZVwiXG4gICAgICAoY2hhbmdlKT1cInVwZGF0ZVVJKClcIj5Xcml0ZTwvbWF0LWNoZWNrYm94PlxuICAgIDxtYXQtY2hlY2tib3ggY29sb3I9XCJwcmltYXJ5XCIgY2xhc3M9XCJleGFtcGxlLW1hcmdpblwiIFsobmdNb2RlbCldPVwidXNlckV4ZWN1dGVcIlxuICAgICAgKGNoYW5nZSk9XCJ1cGRhdGVVSSgpXCI+RXhlY3V0ZTwvbWF0LWNoZWNrYm94PlxuICA8L3NlY3Rpb24+XG5cbiAgPHNwYW4gY2xhc3M9XCJmaWxlLXBlcm1pc3Npb25zLXN1YnRpdGxlIGdyb3VwXCI+R3JvdXA8L3NwYW4+XG4gIDxzZWN0aW9uIGNsYXNzPVwiZXhhbXBsZS1zZWN0aW9uIGdyb3VwXCI+XG4gICAgPG1hdC1jaGVja2JveCBjb2xvcj1cInByaW1hcnlcIiBjbGFzcz1cImV4YW1wbGUtbWFyZ2luXCIgWyhuZ01vZGVsKV09XCJncm91cFJlYWRcIlxuICAgICAgKGNoYW5nZSk9XCJ1cGRhdGVVSSgpXCI+UmVhZDwvbWF0LWNoZWNrYm94PlxuICAgIDxtYXQtY2hlY2tib3ggY29sb3I9XCJwcmltYXJ5XCIgY2xhc3M9XCJleGFtcGxlLW1hcmdpblwiIFsobmdNb2RlbCldPVwiZ3JvdXBXcml0ZVwiXG4gICAgICAoY2hhbmdlKT1cInVwZGF0ZVVJKClcIj5Xcml0ZTwvbWF0LWNoZWNrYm94PlxuICAgIDxtYXQtY2hlY2tib3ggY29sb3I9XCJwcmltYXJ5XCIgY2xhc3M9XCJleGFtcGxlLW1hcmdpblwiIFsobmdNb2RlbCldPVwiZ3JvdXBFeGVjdXRlXCJcbiAgICAgIChjaGFuZ2UpPVwidXBkYXRlVUkoKVwiPkV4ZWN1dGU8L21hdC1jaGVja2JveD5cbiAgPC9zZWN0aW9uPlxuXG4gIDxzcGFuIGNsYXNzPVwiZmlsZS1wZXJtaXNzaW9ucy1zdWJ0aXRsZSBwdWJsaWNcIj5PdGhlcjwvc3Bhbj5cbiAgPHNlY3Rpb24gY2xhc3M9XCJleGFtcGxlLXNlY3Rpb24gcHVibGljXCI+XG4gICAgPG1hdC1jaGVja2JveCBjb2xvcj1cInByaW1hcnlcIiBjbGFzcz1cImV4YW1wbGUtbWFyZ2luXCIgWyhuZ01vZGVsKV09XCJwdWJsaWNSZWFkXCJcbiAgICAgIChjaGFuZ2UpPVwidXBkYXRlVUkoKVwiPlJlYWQ8L21hdC1jaGVja2JveD5cbiAgICA8bWF0LWNoZWNrYm94IGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzPVwiZXhhbXBsZS1tYXJnaW5cIiBbKG5nTW9kZWwpXT1cInB1YmxpY1dyaXRlXCJcbiAgICAgIChjaGFuZ2UpPVwidXBkYXRlVUkoKVwiPldyaXRlPC9tYXQtY2hlY2tib3g+XG4gICAgPG1hdC1jaGVja2JveCBjb2xvcj1cInByaW1hcnlcIiBjbGFzcz1cImV4YW1wbGUtbWFyZ2luXCIgWyhuZ01vZGVsKV09XCJwdWJsaWNFeGVjdXRlXCJcbiAgICAgIChjaGFuZ2UpPVwidXBkYXRlVUkoKVwiPkV4ZWN1dGU8L21hdC1jaGVja2JveD5cbiAgPC9zZWN0aW9uPlxuPC9kaXY+XG5cbkBpZiAoaXNEaXJlY3RvcnkpIHtcbjxkaXYgY2xhc3M9XCJmaWxlLXBlcm1pc3Npb25zLXJvd1wiPlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uXCIgc3R5bGU9XCJ3aWR0aDogMzAlO1wiPlxuICAgIDxtYXQtbGlzdC1pdGVtPlxuICAgICAgPG1hdC1zbGlkZS10b2dnbGUgY29sb3I9XCJwcmltYXJ5XCIgY2xhc3M9XCJzZWxlY3RhYmxlLXRleHRcIiBbKG5nTW9kZWwpXT1cInJlY3Vyc2l2ZVwiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICA8L21hdC1saXN0LWl0ZW0+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtY29sdW1uXCI+XG4gICAgPG1hdC1saXN0LWl0ZW0+XG4gICAgICA8ZGl2IGNsYXNzPVwic2VsZWN0YWJsZS10ZXh0XCI+UmVjdXJzaXZlPzwvZGl2PlxuICAgIDwvbWF0LWxpc3QtaXRlbT5cbiAgPC9kaXY+XG48L2Rpdj5cbn1cblxuPG1hdC1kaWFsb2ctYWN0aW9ucz5cbiAgPGJ1dHRvbiBtYXQtYnV0dG9uIGNsYXNzPVwibW9kYWwtbWF0LWJ1dHRvblwiIChjbGljayk9XCJzYXZlUGVybWlzc2lvbnMoKVwiXG4gICAgW2Rpc2FibGVkXT1cIm9jdGFsTW9kZUlucHV0LmludmFsaWRcIj5TYXZlPC9idXR0b24+XG4gIDwhLS0gVGhlIG1hdC1kaWFsb2ctY2xvc2UgZGlyZWN0aXZlIG9wdGlvbmFsbHkgYWNjZXB0cyBhIHZhbHVlIGFzIGEgcmVzdWx0IGZvciB0aGUgZGlhbG9nLiAtLT5cbjwvbWF0LWRpYWxvZy1hY3Rpb25zPlxuXG48IS0tXG4gIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlXG4gIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2Mi4wIHdoaWNoIGFjY29tcGFuaWVzXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxuXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXG5cbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxuICAtLT4iXX0=