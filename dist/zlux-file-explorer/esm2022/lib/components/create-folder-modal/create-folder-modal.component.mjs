/*
  This program and the accompanying materials are
  made available under the terms of the Eclipse Public License v2.0 which accompanies
  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html
  
  SPDX-License-Identifier: EPL-2.0
  
  Copyright Contributors to the Zowe Project.
*/
import { Component, Inject, EventEmitter } from '@angular/core';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/material/dialog";
import * as i3 from "@angular/material/form-field";
import * as i4 from "@angular/material/icon";
import * as i5 from "@angular/material/input";
import * as i6 from "@angular/material/button";
import * as i7 from "zlux-widgets";
export class CreateFolderModal {
    constructor(data) {
        this.folderName = "";
        this.folderPath = "";
        this.folderPathObtainedFromNode = "";
        // Block unallowed characters and "." and ".." etc
        this.folderPattern = /(([^\x00-\x1F!"$'\(\)*,\/:;<>\?\[\\\]\{\|\}\x7F\s]+)$)/;
        this.onCreate = new EventEmitter();
        const node = data.event;
        if (node.path) {
            this.folderPath = node.path;
        }
        else {
            this.folderPath = "";
        }
        this.folderPathObtainedFromNode = this.folderPath;
    }
    createFolder() {
        let onCreateResponse = new Map();
        onCreateResponse.set("pathAndName", this.folderPath + "/" + this.folderName);
        if (this.folderPath != this.folderPathObtainedFromNode) {
            //If the user changed the path obtained from the node or the node has never been opened...
            onCreateResponse.set("updateExistingTree", false); //then we can't update the tree.
        }
        else { //If the user kept the path obtained from the node...
            onCreateResponse.set("updateExistingTree", true); //then we can add that new folder into the existing node.
        }
        this.onCreate.emit(onCreateResponse); //then we can't update the tree.
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: CreateFolderModal, deps: [{ token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.0.7", type: CreateFolderModal, selector: "create-folder-modal", ngImport: i0, template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap hiddenIds=\"createfolderclearicon1,createfolderclearicon2\" hiddenPos=\"2,4\"></zlux-tab-trap>\n<div class=\"padding-1\">\n  <div class=\"d-flex\">\n    <div class=\"modal-icon-container\">\n      <!-- FA Icon is determined by class name, so we hardcode the style here -->\n      <mat-icon style=\"font-size: 30px; position: absolute;\">create_new_folder</mat-icon>\n    </div>\n    <div>\n      <h2 mat-dialog-title class=\"modal-content-body\">Create a Directory</h2>\n    </div>\n    <!-- <i class=\"{{fileIcon}}\" style=\"font-size: 30px;position: absolute;margin-top: 2px;margin-left: 3px;color: #000000;\"></i> -->\n    <div>\n      <button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n    </div>\n  </div>\n  <mat-dialog-content>\n    Directory name:\n    <mat-form-field style=\"margin-left: 15px;\">\n      <input id=\"create-directory-input\" name=\"name\" [pattern]=\"folderPattern\" matInput type=\"text\"\n        [(ngModel)]=\"folderName\">\n      @if (folderName) {\n      <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button tabindex=\"-1\" aria-label=\"Clear\"\n        (click)=\"folderName=''\">\n        <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n      </button>\n      }\n    </mat-form-field>\n  </mat-dialog-content>\n\n  <mat-dialog-content>\n    Path:\n    <mat-form-field style=\"margin-left: 80px;\">\n      <input id=\"create-path-input\" [pattern]=\"\" matInput type=\"text\" [(ngModel)]=\"folderPath\">\n      @if (folderPath) {\n      <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button tabindex=\"-1\" aria-label=\"Clear\"\n        (click)=\"folderPath=''\">\n        <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n      </button>\n      }\n    </mat-form-field>\n  </mat-dialog-content>\n\n  <mat-dialog-actions>\n    <button mat-button mat-dialog-close class=\"modal-mat-button create\" (click)=\"createFolder()\">Create</button>\n    <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n  </mat-dialog-actions>\n</div>\n<!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->", styles: [".create-folder-clear-icon{font-size:14px;height:5px}.mat-mdc-dialog-content{padding-top:0!important;padding-bottom:0!important}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none;padding:1rem}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:1rem;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}.padding-1{padding:1rem}.d-flex{display:flex}.flex-align-items-start{align-items:flex-start}.modal-icon-container{display:flex;flex-direction:column;justify-content:center}.mat-mdc-button:not(:disabled){color:none}.mat-mdc-form-field-focus-overlay,.mdc-text-field--focused{background-color:#fff!important}\n"], dependencies: [{ kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.PatternValidator, selector: "[pattern][formControlName],[pattern][formControl],[pattern][ngModel]", inputs: ["pattern"] }, { kind: "directive", type: i1.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i2.MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }, { kind: "directive", type: i2.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "directive", type: i2.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "directive", type: i2.MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { kind: "component", type: i3.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i3.MatSuffix, selector: "[matSuffix], [matIconSuffix], [matTextSuffix]", inputs: ["matTextSuffix"] }, { kind: "component", type: i4.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i5.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i6.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i6.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: i7.ZluxTabbingComponent, selector: "zlux-tab-trap", inputs: ["hiddenIds", "hiddenPos"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.7", ngImport: i0, type: CreateFolderModal, decorators: [{
            type: Component,
            args: [{ selector: 'create-folder-modal', template: "<!--\nThis program and the accompanying materials are\nmade available under the terms of the Eclipse Public License v2.0 which accompanies\nthis distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\nSPDX-License-Identifier: EPL-2.0\n\nCopyright Contributors to the Zowe Project.\n-->\n<zlux-tab-trap hiddenIds=\"createfolderclearicon1,createfolderclearicon2\" hiddenPos=\"2,4\"></zlux-tab-trap>\n<div class=\"padding-1\">\n  <div class=\"d-flex\">\n    <div class=\"modal-icon-container\">\n      <!-- FA Icon is determined by class name, so we hardcode the style here -->\n      <mat-icon style=\"font-size: 30px; position: absolute;\">create_new_folder</mat-icon>\n    </div>\n    <div>\n      <h2 mat-dialog-title class=\"modal-content-body\">Create a Directory</h2>\n    </div>\n    <!-- <i class=\"{{fileIcon}}\" style=\"font-size: 30px;position: absolute;margin-top: 2px;margin-left: 3px;color: #000000;\"></i> -->\n    <div>\n      <button mat-dialog-close class=\"close-dialog-btn\"><i class=\"fa fa-close\"></i></button>\n    </div>\n  </div>\n  <mat-dialog-content>\n    Directory name:\n    <mat-form-field style=\"margin-left: 15px;\">\n      <input id=\"create-directory-input\" name=\"name\" [pattern]=\"folderPattern\" matInput type=\"text\"\n        [(ngModel)]=\"folderName\">\n      @if (folderName) {\n      <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button tabindex=\"-1\" aria-label=\"Clear\"\n        (click)=\"folderName=''\">\n        <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n      </button>\n      }\n    </mat-form-field>\n  </mat-dialog-content>\n\n  <mat-dialog-content>\n    Path:\n    <mat-form-field style=\"margin-left: 80px;\">\n      <input id=\"create-path-input\" [pattern]=\"\" matInput type=\"text\" [(ngModel)]=\"folderPath\">\n      @if (folderPath) {\n      <button class=\"modal-clear-button\" mat-button matSuffix mat-icon-button tabindex=\"-1\" aria-label=\"Clear\"\n        (click)=\"folderPath=''\">\n        <mat-icon class=\"create-folder-clear-icon\">close</mat-icon>\n      </button>\n      }\n    </mat-form-field>\n  </mat-dialog-content>\n\n  <mat-dialog-actions>\n    <button mat-button mat-dialog-close class=\"modal-mat-button create\" (click)=\"createFolder()\">Create</button>\n    <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\n  </mat-dialog-actions>\n</div>\n<!--\n    This program and the accompanying materials are\n    made available under the terms of the Eclipse Public License v2.0 which accompanies\n    this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html\n\n    SPDX-License-Identifier: EPL-2.0\n\n    Copyright Contributors to the Zowe Project.\n    -->", styles: [".create-folder-clear-icon{font-size:14px;height:5px}.mat-mdc-dialog-content{padding-top:0!important;padding-bottom:0!important}\n", "mat-dialog-actions{justify-content:flex-end}.close-dialog-btn{float:right;border:none;background:transparent;outline:none;padding:1rem}.modal-column{float:left;width:50%}.modal-column-full-width{width:100%}.modal-row:after{content:\"\";display:table;clear:both}.modal-row{padding-top:15px;font-size:medium}.modal-title{vertical-align:middle;float:left}.selectable-text{-moz-user-select:text!important;-khtml-user-select:text!important;-webkit-user-select:text!important;-ms-user-select:text!important;user-select:text!important;min-width:200px}.modal-mat-button{border-radius:3px;border:solid;color:#3f51b5;border-width:1.75px;box-shadow:transparent;background-color:transparent;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button.cancel{color:#242424;border-color:transparent;margin-right:5px}.modal-mat-button.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button:hover{background-color:#2c4cff1f;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete{padding:6px;width:85px;border-radius:3px;border:solid;color:#e64242;border-width:1.75px;box-shadow:transparent;background-color:transparent;margin-top:25px;margin-right:-10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500}.modal-mat-button-delete.cancel{border-color:transparent;color:#242424;margin-top:25px;margin-right:5px}.modal-mat-button-delete.cancel:hover{background-color:#e0e0e0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-button-delete:hover{background-color:#fff0f0;-webkit-transition-duration:.2s;transition-duration:.2s}.modal-mat-header{margin-left:1rem;-webkit-user-select:text;user-select:text}.modal-icon{font-size:24px;position:absolute;margin-top:4px;margin-left:3px}.modal-content-body{margin-left:45px;margin-bottom:-5px;margin-top:1px;font-size:17px;min-width:400px}.modal-clear-button{border-radius:100%;background-color:transparent;border-color:transparent}.modal-clear-button:hover{background-color:#0000001f!important;transition:0!important;-webkit-transition-duration:0!important;transition-duration:0!important}.padding-1{padding:1rem}.d-flex{display:flex}.flex-align-items-start{align-items:flex-start}.modal-icon-container{display:flex;flex-direction:column;justify-content:center}.mat-mdc-button:not(:disabled){color:none}.mat-mdc-form-field-focus-overlay,.mdc-text-field--focused{background-color:#fff!important}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWZvbGRlci1tb2RhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2NyZWF0ZS1mb2xkZXItbW9kYWwvY3JlYXRlLWZvbGRlci1tb2RhbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy96bHV4LWZpbGUtZXhwbG9yZXIvc3JjL2xpYi9jb21wb25lbnRzL2NyZWF0ZS1mb2xkZXItbW9kYWwvY3JlYXRlLWZvbGRlci1tb2RhbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTs7Ozs7Ozs7RUFRRTtBQUNGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNoRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7Ozs7Ozs7OztBQVEzRCxNQUFNLE9BQU8saUJBQWlCO0lBUTVCLFlBQzJCLElBQUk7UUFSeEIsZUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLCtCQUEwQixHQUFHLEVBQUUsQ0FBQztRQUN2QyxrREFBa0Q7UUFDM0Msa0JBQWEsR0FBRyx3REFBd0QsQ0FBQztRQUNoRixhQUFRLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUs1QixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzlCLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDdkIsQ0FBQztRQUNELElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3BELENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRWpDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdFLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsMEJBQTBCLEVBQUUsQ0FBQztZQUN2RCwwRkFBMEY7WUFDMUYsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0NBQWdDO1FBQ3JGLENBQUM7YUFBTSxDQUFDLENBQUMscURBQXFEO1lBQzVELGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLHlEQUF5RDtRQUM3RyxDQUFDO1FBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLGdDQUFnQztJQUN4RSxDQUFDOzhHQWhDVSxpQkFBaUIsa0JBU2xCLGVBQWU7a0dBVGQsaUJBQWlCLDJEQ25COUIsd3RGQWdFTzs7MkZEN0NNLGlCQUFpQjtrQkFON0IsU0FBUzsrQkFDRSxxQkFBcUI7OzBCQWM1QixNQUFNOzJCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLypcclxuICBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZVxyXG4gIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2Mi4wIHdoaWNoIGFjY29tcGFuaWVzXHJcbiAgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYyMC5odG1sXHJcbiAgXHJcbiAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEVQTC0yLjBcclxuICBcclxuICBDb3B5cmlnaHQgQ29udHJpYnV0b3JzIHRvIHRoZSBab3dlIFByb2plY3QuXHJcbiovXHJcbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTUFUX0RJQUxPR19EQVRBIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnY3JlYXRlLWZvbGRlci1tb2RhbCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2NyZWF0ZS1mb2xkZXItbW9kYWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2NyZWF0ZS1mb2xkZXItbW9kYWwuY29tcG9uZW50LnNjc3MnLFxyXG4gICAgJy4uLy4uL3NoYXJlZC9tb2RhbC5jb21wb25lbnQuc2NzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlRm9sZGVyTW9kYWwge1xyXG4gIHB1YmxpYyBmb2xkZXJOYW1lID0gXCJcIjtcclxuICBwdWJsaWMgZm9sZGVyUGF0aCA9IFwiXCI7XHJcbiAgcHVibGljIGZvbGRlclBhdGhPYnRhaW5lZEZyb21Ob2RlID0gXCJcIjtcclxuICAvLyBCbG9jayB1bmFsbG93ZWQgY2hhcmFjdGVycyBhbmQgXCIuXCIgYW5kIFwiLi5cIiBldGNcclxuICBwdWJsaWMgZm9sZGVyUGF0dGVybiA9IC8oKFteXFx4MDAtXFx4MUYhXCIkJ1xcKFxcKSosXFwvOjs8PlxcP1xcW1xcXFxcXF1cXHtcXHxcXH1cXHg3Rlxcc10rKSQpLztcclxuICBvbkNyZWF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgZGF0YSxcclxuICApIHtcclxuICAgIGNvbnN0IG5vZGUgPSBkYXRhLmV2ZW50O1xyXG4gICAgaWYgKG5vZGUucGF0aCkge1xyXG4gICAgICB0aGlzLmZvbGRlclBhdGggPSBub2RlLnBhdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZvbGRlclBhdGggPSBcIlwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mb2xkZXJQYXRoT2J0YWluZWRGcm9tTm9kZSA9IHRoaXMuZm9sZGVyUGF0aDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUZvbGRlcigpIHtcclxuICAgIGxldCBvbkNyZWF0ZVJlc3BvbnNlID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIG9uQ3JlYXRlUmVzcG9uc2Uuc2V0KFwicGF0aEFuZE5hbWVcIiwgdGhpcy5mb2xkZXJQYXRoICsgXCIvXCIgKyB0aGlzLmZvbGRlck5hbWUpO1xyXG4gICAgaWYgKHRoaXMuZm9sZGVyUGF0aCAhPSB0aGlzLmZvbGRlclBhdGhPYnRhaW5lZEZyb21Ob2RlKSB7XHJcbiAgICAgIC8vSWYgdGhlIHVzZXIgY2hhbmdlZCB0aGUgcGF0aCBvYnRhaW5lZCBmcm9tIHRoZSBub2RlIG9yIHRoZSBub2RlIGhhcyBuZXZlciBiZWVuIG9wZW5lZC4uLlxyXG4gICAgICBvbkNyZWF0ZVJlc3BvbnNlLnNldChcInVwZGF0ZUV4aXN0aW5nVHJlZVwiLCBmYWxzZSk7IC8vdGhlbiB3ZSBjYW4ndCB1cGRhdGUgdGhlIHRyZWUuXHJcbiAgICB9IGVsc2UgeyAvL0lmIHRoZSB1c2VyIGtlcHQgdGhlIHBhdGggb2J0YWluZWQgZnJvbSB0aGUgbm9kZS4uLlxyXG4gICAgICBvbkNyZWF0ZVJlc3BvbnNlLnNldChcInVwZGF0ZUV4aXN0aW5nVHJlZVwiLCB0cnVlKTsgLy90aGVuIHdlIGNhbiBhZGQgdGhhdCBuZXcgZm9sZGVyIGludG8gdGhlIGV4aXN0aW5nIG5vZGUuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vbkNyZWF0ZS5lbWl0KG9uQ3JlYXRlUmVzcG9uc2UpOyAvL3RoZW4gd2UgY2FuJ3QgdXBkYXRlIHRoZSB0cmVlLlxyXG4gIH1cclxuXHJcbn1cclxuXHJcbi8qXHJcbiAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmVcclxuICBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjIuMCB3aGljaCBhY2NvbXBhbmllc1xyXG4gIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxyXG4gIFxyXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBFUEwtMi4wXHJcbiAgXHJcbiAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxyXG4qL1xyXG4iLCI8IS0tXG5UaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZVxubWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYyLjAgd2hpY2ggYWNjb21wYW5pZXNcbnRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MjAuaHRtbFxuXG5TUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogRVBMLTIuMFxuXG5Db3B5cmlnaHQgQ29udHJpYnV0b3JzIHRvIHRoZSBab3dlIFByb2plY3QuXG4tLT5cbjx6bHV4LXRhYi10cmFwIGhpZGRlbklkcz1cImNyZWF0ZWZvbGRlcmNsZWFyaWNvbjEsY3JlYXRlZm9sZGVyY2xlYXJpY29uMlwiIGhpZGRlblBvcz1cIjIsNFwiPjwvemx1eC10YWItdHJhcD5cbjxkaXYgY2xhc3M9XCJwYWRkaW5nLTFcIj5cbiAgPGRpdiBjbGFzcz1cImQtZmxleFwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1pY29uLWNvbnRhaW5lclwiPlxuICAgICAgPCEtLSBGQSBJY29uIGlzIGRldGVybWluZWQgYnkgY2xhc3MgbmFtZSwgc28gd2UgaGFyZGNvZGUgdGhlIHN0eWxlIGhlcmUgLS0+XG4gICAgICA8bWF0LWljb24gc3R5bGU9XCJmb250LXNpemU6IDMwcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTtcIj5jcmVhdGVfbmV3X2ZvbGRlcjwvbWF0LWljb24+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgIDxoMiBtYXQtZGlhbG9nLXRpdGxlIGNsYXNzPVwibW9kYWwtY29udGVudC1ib2R5XCI+Q3JlYXRlIGEgRGlyZWN0b3J5PC9oMj5cbiAgICA8L2Rpdj5cbiAgICA8IS0tIDxpIGNsYXNzPVwie3tmaWxlSWNvbn19XCIgc3R5bGU9XCJmb250LXNpemU6IDMwcHg7cG9zaXRpb246IGFic29sdXRlO21hcmdpbi10b3A6IDJweDttYXJnaW4tbGVmdDogM3B4O2NvbG9yOiAjMDAwMDAwO1wiPjwvaT4gLS0+XG4gICAgPGRpdj5cbiAgICAgIDxidXR0b24gbWF0LWRpYWxvZy1jbG9zZSBjbGFzcz1cImNsb3NlLWRpYWxvZy1idG5cIj48aSBjbGFzcz1cImZhIGZhLWNsb3NlXCI+PC9pPjwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPG1hdC1kaWFsb2ctY29udGVudD5cbiAgICBEaXJlY3RvcnkgbmFtZTpcbiAgICA8bWF0LWZvcm0tZmllbGQgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTVweDtcIj5cbiAgICAgIDxpbnB1dCBpZD1cImNyZWF0ZS1kaXJlY3RvcnktaW5wdXRcIiBuYW1lPVwibmFtZVwiIFtwYXR0ZXJuXT1cImZvbGRlclBhdHRlcm5cIiBtYXRJbnB1dCB0eXBlPVwidGV4dFwiXG4gICAgICAgIFsobmdNb2RlbCldPVwiZm9sZGVyTmFtZVwiPlxuICAgICAgQGlmIChmb2xkZXJOYW1lKSB7XG4gICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWwtY2xlYXItYnV0dG9uXCIgbWF0LWJ1dHRvbiBtYXRTdWZmaXggbWF0LWljb24tYnV0dG9uIHRhYmluZGV4PVwiLTFcIiBhcmlhLWxhYmVsPVwiQ2xlYXJcIlxuICAgICAgICAoY2xpY2spPVwiZm9sZGVyTmFtZT0nJ1wiPlxuICAgICAgICA8bWF0LWljb24gY2xhc3M9XCJjcmVhdGUtZm9sZGVyLWNsZWFyLWljb25cIj5jbG9zZTwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIH1cbiAgICA8L21hdC1mb3JtLWZpZWxkPlxuICA8L21hdC1kaWFsb2ctY29udGVudD5cblxuICA8bWF0LWRpYWxvZy1jb250ZW50PlxuICAgIFBhdGg6XG4gICAgPG1hdC1mb3JtLWZpZWxkIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDgwcHg7XCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjcmVhdGUtcGF0aC1pbnB1dFwiIFtwYXR0ZXJuXT1cIlwiIG1hdElucHV0IHR5cGU9XCJ0ZXh0XCIgWyhuZ01vZGVsKV09XCJmb2xkZXJQYXRoXCI+XG4gICAgICBAaWYgKGZvbGRlclBhdGgpIHtcbiAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1jbGVhci1idXR0b25cIiBtYXQtYnV0dG9uIG1hdFN1ZmZpeCBtYXQtaWNvbi1idXR0b24gdGFiaW5kZXg9XCItMVwiIGFyaWEtbGFiZWw9XCJDbGVhclwiXG4gICAgICAgIChjbGljayk9XCJmb2xkZXJQYXRoPScnXCI+XG4gICAgICAgIDxtYXQtaWNvbiBjbGFzcz1cImNyZWF0ZS1mb2xkZXItY2xlYXItaWNvblwiPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgfVxuICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gIDwvbWF0LWRpYWxvZy1jb250ZW50PlxuXG4gIDxtYXQtZGlhbG9nLWFjdGlvbnM+XG4gICAgPGJ1dHRvbiBtYXQtYnV0dG9uIG1hdC1kaWFsb2ctY2xvc2UgY2xhc3M9XCJtb2RhbC1tYXQtYnV0dG9uIGNyZWF0ZVwiIChjbGljayk9XCJjcmVhdGVGb2xkZXIoKVwiPkNyZWF0ZTwvYnV0dG9uPlxuICAgIDwhLS0gVGhlIG1hdC1kaWFsb2ctY2xvc2UgZGlyZWN0aXZlIG9wdGlvbmFsbHkgYWNjZXB0cyBhIHZhbHVlIGFzIGEgcmVzdWx0IGZvciB0aGUgZGlhbG9nLiAtLT5cbiAgPC9tYXQtZGlhbG9nLWFjdGlvbnM+XG48L2Rpdj5cbjwhLS1cbiAgICBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZVxuICAgIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2Mi4wIHdoaWNoIGFjY29tcGFuaWVzXG4gICAgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYyMC5odG1sXG5cbiAgICBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogRVBMLTIuMFxuXG4gICAgQ29weXJpZ2h0IENvbnRyaWJ1dG9ycyB0byB0aGUgWm93ZSBQcm9qZWN0LlxuICAgIC0tPiJdfQ==